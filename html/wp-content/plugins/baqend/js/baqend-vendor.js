!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=18)}([,function(t,e,r){(function(e,r){var n,i;t.exports=((i={}).typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i.defaults=function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t},i.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i.defaults(t,e))},i.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},function t(e,r,i){function o(a,u){if(!r[a]){if(!e[a]){if(!u&&"function"==typeof n&&n)return n(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return o(r||t)},h,h.exports,t,e,r,i)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,r){"use strict";var n=t(68),o=function(){function t(e){i.classCallCheck(this,t),this.read=new n(e),this.write=new n(e)}return t.prototype.clear=function(){this.read.clear(),this.write.clear()},t.prototype.copy=function(t){return this.read.copy(t.read),this.write.copy(t.write),this},t.prototype.isPublicReadAllowed=function(){return this.read.isPublicAllowed()},t.prototype.setPublicReadAllowed=function(){return this.read.setPublicAllowed()},t.prototype.isReadAllowed=function(t){return this.read.isAllowed(t)},t.prototype.isReadDenied=function(t){return this.read.isDenied(t)},t.prototype.allowReadAccess=function(t){return n.prototype.allowAccess.apply(this.read,arguments),this},t.prototype.denyReadAccess=function(t){return n.prototype.denyAccess.apply(this.read,arguments),this},t.prototype.deleteReadAccess=function(t){return n.prototype.deleteAccess.apply(this.read,arguments),this},t.prototype.isPublicWriteAllowed=function(){return this.write.isPublicAllowed()},t.prototype.setPublicWriteAllowed=function(){return this.write.setPublicAllowed()},t.prototype.isWriteAllowed=function(t){return this.write.isAllowed(t)},t.prototype.isWriteDenied=function(t){return this.write.isDenied(t)},t.prototype.allowWriteAccess=function(t){return n.prototype.allowAccess.apply(this.write,arguments),this},t.prototype.denyWriteAccess=function(t){return n.prototype.denyAccess.apply(this.write,arguments),this},t.prototype.deleteWriteAccess=function(t){return n.prototype.deleteAccess.apply(this.write,arguments),this},t.prototype.toJSON=function(){return{read:this.read.toJSON(),write:this.write.toJSON()}},t.prototype.fromJSON=function(t){this.read.fromJSON(t.read||{}),this.write.fromJSON(t.write||{})},t}();e.exports=o},{68:68}],2:[function(t,e,r){"use strict";var n=t(35),o=t(33),s=t(20),a=t(75),u=t(62),c=t(19),h=t(4),f=t(66),l=t(25),p=t(21),d=l.StatusCode,y=function(t){function e(r){i.classCallCheck(this,e);var n=i.possibleConstructorReturn(this,t.call(this));return n.log=a.Logger.create(n),n._connector=null,n._entities=null,n.entityManagerFactory=r,n.metamodel=r.metamodel,n.code=r.code,n.modules=null,n.me=null,n.isDeviceRegistered=!1,n.tokenStorage=null,n.bloomFilter=null,n.cacheWhiteList=null,n.cacheBlackList=null,n.bloomFilterRefresh=60,n._bloomFilterLock=new a.Lockable,n}return i.inherits(e,t),i.createClass(e,[{key:"isOpen",get:function(){return!!this._connector}},{key:"token",get:function(){return this.tokenStorage.token},set:function(t){this.tokenStorage.update(t)}},{key:"isCachingDisabled",get:function(){return!this.bloomFilter}}]),e.prototype.connected=function(t,e,r){this._connector=t,this.tokenStorage=r,this.bloomFilterRefresh=this.entityManagerFactory.staleness,this._entities={},this.File=s.FileFactory.create(this),this._createObjectFactory(this.metamodel.embeddables),this._createObjectFactory(this.metamodel.entities),this.transaction=new h(this),this.modules=new a.Modules(this,t),e&&(this.isDeviceRegistered=!!e.device,e.user&&r.token&&this._updateUser(e.user,!0),this.bloomFilterRefresh>0&&e.bloomFilter&&a.atob&&!a.isNode&&this.updateBloomFilter(e.bloomFilter))},e.prototype._createObjectFactory=function(t){var e=this;Object.keys(t).forEach(function(t){var r=e.metamodel.managedType(t),n=r.name;e[n]?(r.typeConstructor=e[n],Object.defineProperty(e,n,{value:r.createObjectFactory(e)})):Object.defineProperty(e,n,{get:function(){return Object.defineProperty(this,n,{value:r.createObjectFactory(this)}),this[n]},set:function(t){r.typeConstructor=t},configurable:!0})},this)},e.prototype.send=function(t,e){var r=this;t.tokenStorage=this.tokenStorage;var n=this._connector.send(t);return e||(n=n.catch(function(t){throw t.status==d.BAD_CREDENTIALS&&r._logout(),t})),n},e.prototype.getReference=function(t,e){var r=void 0,n=void 0;e?(n=this.metamodel.entity(t),r=0==e.indexOf("/db/")?e:n.ref+"/"+encodeURIComponent(e)):"string"==typeof t?(r=t,n=this.metamodel.entity(r.substring(0,r.indexOf("/",4)))):n=this.metamodel.entity(t);var i=this._entities[r];if(!i){i=n.create();var o=f.get(i);r&&(o.id=r),o.setUnavailable(),this._attach(i)}return i},e.prototype.createQueryBuilder=function(t){return new u.Builder(this,t)},e.prototype.clear=function(){this._entities={}},e.prototype.close=function(){return this._connector=null,this.clear()},e.prototype.contains=function(t){return!!t&&this._entities[t.id]===t},e.prototype.containsById=function(t){return!(!t||!this._entities[t.id])},e.prototype.detach=function(t){var e=this;return f.get(t).withLock(function(){return e.removeReference(t),Promise.resolve(t)})},e.prototype.resolveDepth=function(t,e){var r=this;if(!e||!e.depth)return Promise.resolve(t);e.resolved=e.resolved||[];var n=[],i=Object.assign({},e,{depth:!0===e.depth||e.depth-1});return this.getSubEntities(t,1).forEach(function(t){null==t||~e.resolved.indexOf(t)||(e.resolved.push(t),n.push(r.load(t.id,null,i)))}),Promise.all(n).then(function(){return t})},e.prototype.load=function(t,e,r){var i=this;r=r||{};var o=this.getReference(t,e),s=f.get(o);if(!r.refresh&&r.local&&s.isAvailable)return this.resolveDepth(o,r);var a=new n.GetObject(s.bucket,s.key);return this.ensureCacheHeader(o.id,a,r.refresh),this.send(a).then(function(n){return o.version>n.entity.version?(r.refresh=!0,i.load(t,e,r)):(i.addToWhiteList(n.entity.id),n.status!=d.NOT_MODIFIED&&s.setJson(n.entity,{persisting:!0}),i.resolveDepth(o,r))},function(t){if(t.status==d.OBJECT_NOT_FOUND)return i.removeReference(o),s.setRemoved(),null;throw t})},e.prototype.insert=function(t,e){var r=this;e=e||{};var i=void 0;return this._save(t,e,function(t,e){if(t.version)throw new o.PersistentError("Existing objects can't be inserted.");return i=!t.id,new n.CreateObject(t.bucket,e)}).then(function(e){return i&&r._attach(t),e})},e.prototype.update=function(t,e){return e=e||{},this._save(t,e,function(t,r){if(!t.version)throw new o.PersistentError("New objects can't be inserted.");return e.force?(delete r.version,new n.ReplaceObject(t.bucket,t.key,r).ifMatch("*")):new n.ReplaceObject(t.bucket,t.key,r).ifMatch(t.version)})},e.prototype.save=function(t,e,r){e=e||{};var i=function(t,r){if(e.force){if(!t.id)throw new o.PersistentError("New special objects can't be forcedly saved.");return delete r.version,new n.ReplaceObject(t.bucket,t.key,r)}return t.version?new n.ReplaceObject(t.bucket,t.key,r).ifMatch(t.version):new n.CreateObject(t.bucket,r)};return r?this._locklessSave(t,e,i):this._save(t,e,i)},e.prototype.optimisticSave=function(t,e){var r=this;return f.get(t).withLock(function(){return r._optimisticSave(t,e)})},e.prototype._optimisticSave=function(t,e){var r=this,n=!1,i=Promise.resolve(e(t,function(){n=!0}));return n?Promise.resolve(t):i.then(function(){return r.save(t,{},!0).catch(function(n){if(412==n.status)return r.refresh(t,{}).then(function(){return r._optimisticSave(t,e)});throw n})})},e.prototype._locklessSave=function(t,e,r){var n=this;this.attach(t);var i=f.get(t),o=void 0,s=void 0;if(i.isAvailable&&(s=i.getJson({persisting:!0})),i.isDirty){e.refresh||i.setPersistent();var a=this.send(r(i,s)).then(function(r){return i.setJson(r.entity,{persisting:e.refresh,onlyMetadata:!e.refresh}),t},function(e){if(e.status==d.OBJECT_NOT_FOUND)return n.removeReference(t),i.setRemoved(),null;throw i.setDirty(),e});o=[a]}else o=[Promise.resolve(t)];var u=Object.assign({},e);return u.depth=0,this.getSubEntities(t,e.depth).forEach(function(t){o.push(n._save(t,u,r))}),Promise.all(o).then(function(){return t})},e.prototype._save=function(t,e,r){var n=this;this.ensureBloomFilterFreshness();var i=f.get(t);return i.version&&this.addToBlackList(t.id),i.withLock(function(){return n._locklessSave(t,e,r)})},e.prototype.getSubEntities=function(t,e,r,n){var i=this;if(r=r||[],!e)return r;n=n||t;var o=f.get(t).type.references(),s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var c=u;this.getSubEntitiesByPath(t,c.path).forEach(function(t){~r.indexOf(t)||t==n||(r.push(t),r=i.getSubEntities(t,!0===e?e:e-1,r,n))})}return r},e.prototype.getSubEntitiesByPath=function(t,e){var r=this,n=[t];return e.forEach(function(t){var e=[];n.forEach(function(n){var i=n[t];if(i){var o=r.metamodel.managedType(n.constructor).getAttribute(t);if(o.isCollection){var s=i.entries(),a=Array.isArray(s),u=0;for(s=a?s:s[Symbol.iterator]();;){var c;if(a){if(u>=s.length)break;c=s[u++]}else{if((u=s.next()).done)break;c=u.value}var h=c;e.push(h[1]),o.keyType&&o.keyType.isEntity&&e.push(h[0])}}else e.push(i)}}),n=e}),n},e.prototype.delete=function(t,e){var r=this;e=e||{},this.attach(t);var i=f.get(t);return i.withLock(function(){if(!i.version&&!e.force)throw new o.IllegalEntityError(t);var s=new n.DeleteObject(i.bucket,i.key);r.addToBlackList(t.id),e.force||s.ifMatch(i.version);var a=[r.send(s).then(function(){return r.removeReference(t),i.setRemoved(),t})],u=Object.assign({},e);return u.depth=0,r.getSubEntities(t,e.depth).forEach(function(t){a.push(r.delete(t,u))}),Promise.all(a).then(function(){return t})})},e.prototype.flush=function(t,e){},e.prototype.persist=function(t){this.attach(t)},e.prototype.refresh=function(t,e){return(e=e||{}).refresh=!0,this.load(t.id,null,e)},e.prototype.attach=function(t){if(!this.contains(t)){if(!this.metamodel.entity(t.constructor))throw new o.IllegalEntityError(t);if(this.containsById(t))throw new o.EntityExistsError(t);this._attach(t)}},e.prototype._attach=function(t){var e=f.get(t);if(e.isAttached){if(e.db!=this)throw new o.EntityExistsError(t)}else e.db=this;e.id||"User"!=e.type.name&&"Role"!=e.type.name&&"logs.AppLog"!=e.type.name&&(e.id="/db/"+e.type.name+"/"+a.uuid()),e.id&&(this._entities[e.id]=t)},e.prototype.removeReference=function(t){var e=f.get(t);if(!e)throw new o.IllegalEntityError(t);delete this._entities[e.id]},e.prototype.register=function(t,e,r){var i=this,s=r>c.LoginOption.NO_LOGIN;if(this.me&&s)throw new o.PersistentError("User is already logged in.");return this.withLock(function(){var o=new n.Register({user:t,password:e,login:s});return i._userRequest(o,r)})},e.prototype.login=function(t,e,r){var i=this;if(this.me)throw new o.PersistentError("User is already logged in.");return this.withLock(function(){var o=new n.Login({username:t,password:e});return i._userRequest(o,r)})},e.prototype.logout=function(){var t=this;return this.withLock(function(){return t.send(new n.Logout).then(t._logout.bind(t))})},e.prototype.loginWithOAuth=function(t,e,r){if(this.me)throw new o.PersistentError("User is already logged in.");(r=Object.assign({title:"Login with "+t,timeout:3e5,state:{},loginOption:!0},r)).redirect&&Object.assign(r.state,{redirect:r.redirect,loginOption:r.loginOption});var n=void 0;if(!l[t+"OAuth"])throw new Error("OAuth provider "+t+" not supported.");if((n=new l[t+"OAuth"](e,r.scope,JSON.stringify(r.state))).addRedirectOrigin(this._connector.origin+this._connector.basePath),r.redirect)return-1!=document.URL.indexOf("http://")||-1!=document.URL.indexOf("https://")?open(n.request.path,"_self"):open(n.request.path,"_system"),new Promise(function(t){});var i=this._userRequest(n,r.loginOption);return open(n.request.path,r.title,"width="+r.width+",height="+r.height),new Promise(function(t,e){var n=setTimeout(function(){e(new o.PersistentError("OAuth login timeout."))},r.timeout);i.then(t,e).then(function(){clearTimeout(n)})})},e.prototype.renew=function(t){var e=this;return this.withLock(function(){var r=new n.Me;return e._userRequest(r,t)})},e.prototype.newPassword=function(t,e,r){var i=this;return this.withLock(function(){var o=new n.NewPassword({username:t,password:e,newPassword:r});return i.send(o,!0).then(function(t){return i._updateUser(t.entity)})})},e.prototype.newPasswordWithToken=function(t,e,r){var i=this;return this.withLock(function(){return i._userRequest(new n.NewPassword({token:t,newPassword:e}),r)})},e.prototype.resetPassword=function(t){return this.send(new n.ResetPassword({username:t}))},e.prototype.changeUsername=function(t,e,r){return this.send(new n.ChangeUsername({username:t,newUsername:e,password:r}))},e.prototype._updateUser=function(t,e){var r=this.getReference(t.id);return f.get(r).setJson(t,{persisting:!0}),e&&(this.me=r),r},e.prototype._logout=function(){this.me=null,this.token=null},e.prototype._userRequest=function(t,e){var r=this;void 0===e&&(e=!0);var n=e>c.LoginOption.NO_LOGIN;return n&&(this.tokenStorage.temporary=e<c.LoginOption.PERSIST_LOGIN),this.send(t,!n).then(function(t){if(t.entity)return r._updateUser(t.entity,n)},function(t){if(t.status==d.OBJECT_NOT_FOUND)return n&&r._logout(),null;throw t})},e.prototype.registerDevice=function(t,e,r){var i=new n.DeviceRegister({token:e,device:r,devicetype:t});return i.withCredentials=!0,this.send(i)},e.prototype.checkDeviceRegistration=function(){var t=this;return this.send(new n.DeviceRegistered).then(function(){return t.isDeviceRegistered=!0},function(e){if(e.status==d.OBJECT_NOT_FOUND)return t.isDeviceRegistered=!1;throw e})},e.prototype.pushDevice=function(t){return this.send(new n.DevicePush(t))},e.prototype.validate=function(t){for(var e=f.get(t).type,r=new a.ValidationResult,n=e.attributes(),i=void 0;!(i=n.next()).done;){var o=new a.Validator(i.value.name,t);r.fields[o.key]=o}var s=e.validationCode;return s&&s(r.fields),r},e.prototype.addToWhiteList=function(t){this.isCachingDisabled||(this.bloomFilter.contains(t)&&this.cacheWhiteList.add(t),this.cacheBlackList.delete(t))},e.prototype.addToBlackList=function(t){this.isCachingDisabled||(this.bloomFilter.contains(t)||this.cacheBlackList.add(t),this.cacheWhiteList.delete(t))},e.prototype.refreshBloomFilter=function(){var t=this;if(this.isCachingDisabled)return Promise.resolve();var e=new n.GetBloomFilter;return e.noCache(),this.send(e).then(function(e){return t.updateBloomFilter(e.entity),t.bloomFilter})},e.prototype.updateBloomFilter=function(t){this.bloomFilter=new p(t),this.cacheWhiteList=new Set,this.cacheBlackList=new Set},e.prototype.ensureBloomFilterFreshness=function(){var t=this;if(!this.isCachingDisabled){var e=(new Date).getTime(),r=1e3*this.bloomFilterRefresh;this._bloomFilterLock.isReady&&e-this.bloomFilter.creation>r&&this._bloomFilterLock.withLock(function(){return t.refreshBloomFilter()})}},e.prototype.mustRevalidate=function(t){if(a.isNode)return!1;this.ensureBloomFilterFreshness();var e=this.isCachingDisabled||!this._bloomFilterLock.isReady;return e=e||!this.cacheWhiteList.has(t)&&(this.cacheBlackList.has(t)||this.bloomFilter.contains(t))},e.prototype.ensureCacheHeader=function(t,e,r){(r=r||this.mustRevalidate(t))&&e.noCache()},e.prototype.createURL=function(t,e){var r=this._connector.basePath+t,n=!1;return e&&this.me?(r=this.tokenStorage.signPath(r),n=!0):r=r.split("/").map(encodeURIComponent).join("/"),this.mustRevalidate(t)&&(r=r+(n?"&":"?")+"BCB"),this._connector.origin+r},e.prototype.requestAPIToken=function(t,e){var r=this._getUserReference(t,e),i=new n.UserToken(r.key);return this.send(i).then(function(t){return t.entity})},e.prototype.revokeAllTokens=function(t,e){var r=this._getUserReference(t,e),i=new n.RevokeUserToken(r.key);return this.send(i)},e.prototype._getUserReference=function(t,e){return"string"==typeof e?this.getReference(t,e):e},e}(a.Lockable);y.prototype.List=Array,y.prototype.Set=Set,y.prototype.Map=Map,y.prototype.GeoPoint=t(5),e.exports=y},{19:19,20:20,21:21,25:25,33:33,35:35,4:4,5:5,62:62,66:66,75:75}],3:[function(t,e,r){"use strict";var n=t(35),o=t(51),s=t(75),a=(t(22),t(23)),u=t(2),c=function(t){function e(r){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this));r=Object(r)instanceof String?{host:r}:r||{},o._connector=null,o.metamodel=o.createMetamodel(),o.code=new s.Code(o.metamodel,o),o.tokenStorageFactory=s.TokenStorage.WEB_STORAGE||s.TokenStorage.GLOBAL,o.configure(r);var a=!0,u=new Promise(function(t){o._connected=t});return r.host?o.connect(r.host,r.port,r.secure,r.basePath):a=!1,o.tokenStorage||(a=!1,u=u.then(function(){return o.tokenStorageFactory.create(o._connector.origin)}).then(function(t){o.tokenStorage=t})),r.schema?(o._connectData=r,o.metamodel.init(r.schema)):(a=!1,u=u.then(function(){var t=new n.Connect;return t.withCredentials=!0,0===o.staleness&&t.noCache(),o.send(t)}).then(function(t){o._connectData=t.entity,void 0===o.staleness&&(o.staleness=o._connectData.bloomFilterRefresh||60),o.metamodel.isInitialized||o.metamodel.init(o._connectData.schema),o.tokenStorage.update(o._connectData.token)})),a||o.withLock(function(){return u},!0),o}return i.inherits(e,t),e.prototype._connected=function(){},e.prototype.configure=function(t){if(this._connector)throw new Error("The EntityManagerFactory can only be configured before is is connected.");t.tokenStorage&&(this.tokenStorage=t.tokenStorage),t.tokenStorageFactory&&(this.tokenStorageFactory=t.tokenStorageFactory),void 0!==t.staleness&&(this.staleness=t.staleness)},e.prototype.connect=function(t,e,r,n){if(this._connector)throw new Error("The EntityManagerFactory is already connected.");return Object(e)instanceof Boolean&&(r=e,e=0),this._connector=a.create(t,e,r,n),this._connected(),this.ready()},e.prototype.createMetamodel=function(){return new o.Metamodel(this)},e.prototype.createEntityManager=function(t){var e=this,r=new u(this);return this.isReady?r.connected(this._connector,this._connectData,t?this.tokenStorage:new s.TokenStorage(this._connector.origin)):r.withLock(function(){return e.ready().then(function(){r.connected(e._connector,e._connectData,t?e.tokenStorage:new s.TokenStorage(e._connector.origin))})},!0),r},e.prototype.send=function(t){return t.tokenStorage||(t.tokenStorage=this.tokenStorage),this._connector.send(t)},e}(s.Lockable);e.exports=c},{2:2,22:22,23:23,35:35,51:51,75:75}],4:[function(t,e,r){"use strict";var n=t(35),o=t(33),s=function(){function t(e){i.classCallCheck(this,t),this._connector=e.connector,this.entityManager=e,this.tid=null,this.rollbackOnly=!1,this.readSet=null,this.changeSet=null}return i.createClass(t,[{key:"isActive",get:function(){return Boolean(this.tid)}}]),t.prototype.begin=function(t,e){return this.yield().then(function(){var t=this.send(new n.PostTransaction).done(function(t){this.tid=t.tid,this.rollbackOnly=!1,this.readSet={},this.changeSet={}});return this.wait(t)}).then(t,e)},t.prototype.commit=function(t,e){return this.yield().then(function(){return this.getRollbackOnly()?this.rollback().then(function(){throw new o.RollbackError}):this.wait(this.entityManager.flush()).then(function(){var t=[];for(var e in this.readSet)t.push({oid:e,version:this.readSet[e]});var r=this.send(new n.PutTransactionCommitted(this.tid,t));return this.wait(r).then(function(t){this.tid=null,this.readSet=null,this.changeSet=null;var e=t.oids;for(var r in e){var n=e[r],i=this.entityManager.entities[r];if(i){var o=util.Metadata.get(i);"DELETED"==n||o.isDeleted?this.entityManager.removeReference(i):o.setJsonValue(o.type.version,n)}}})})}).then(t,e)},t.prototype.getRollbackOnly=function(){return this.rollbackOnly},t.prototype.rollback=function(t,e){return this.yield().then(function(){var t=this.send(new n.PutTransactionAborted(this.tid));this.wait(t).then(function(){return this.tid=null,this.readSet=null,this.changeSet=null,this.entityManager.clear()},function(){return this.entityManager.clear()})}).then(t,e)},t.prototype.setRollbackOnly=function(t,e){return this.yield().done(function(){this.rollbackOnly=!0})},t.prototype.isRead=function(t){return this.isActive&&t in this.readSet},t.prototype.setRead=function(t,e){this.isActive&&!this.isChanged(t)&&(this.readSet[t]=e)},t.prototype.isChanged=function(t){return this.isActive&&t in this.changeSet},t.prototype.setChanged=function(t){this.isActive&&(delete this.readSet[t],this.changeSet[t]=!0)},t}();e.exports=s},{33:33,35:35}],5:[function(t,e,r){"use strict";var n=function(){function t(e,r){i.classCallCheck(this,t);var n=void 0,o=void 0;if(Object(e)instanceof String){var s=e.indexOf(";");n=e.substring(0,s),o=e.substring(s+1)}else Object(e)instanceof Number?(n=e,o=r):Object(e)instanceof Array?(n=e[0],o=e[1]):e instanceof Object?(n=e.latitude,o=e.longitude):(n=0,o=0);if(this.longitude=o,this.latitude=n,this.latitude<-90||this.latitude>90)throw new Error("Latitude "+this.latitude+" is not in bound of -90 <= latitude <= 90");if(this.longitude<-180||this.longitude>180)throw new Error("Longitude "+this.longitude+" is not in bound of -180 <= longitude <= 180")}return t.current=function(){return new Promise(function(e,r){navigator.geolocation.getCurrentPosition(function(r){e(new t(r.coords.latitude,r.coords.longitude))},function(t){r(t)})})},t.prototype.kilometersTo=function(e){return Number((t.EARTH_RADIUS_IN_KILOMETERS*this.radiansTo(e)).toFixed(3))},t.prototype.milesTo=function(e){return Number((t.EARTH_RADIUS_IN_MILES*this.radiansTo(e)).toFixed(3))},t.prototype.radiansTo=function(e){var r=e,n=this.latitude*t.DEG_TO_RAD,i=r.latitude*t.DEG_TO_RAD,o=(r.longitude-this.longitude)*t.DEG_TO_RAD;return Math.acos(Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos(o))},t.prototype.toString=function(){return this.latitude+";"+this.longitude},t.prototype.toJSON=function(){return{latitude:this.latitude,longitude:this.longitude}},t}();n.DEG_TO_RAD=Math.PI/180,n.EARTH_RADIUS_IN_KILOMETERS=6371,n.EARTH_RADIUS_IN_MILES=3956,e.exports=n},{}],6:[function(t,e,r){"use strict";var n=t(3),i=t(2);i.prototype.binding=t(20),i.prototype.connector=t(27),i.prototype.error=t(33),i.prototype.message=t(35),i.prototype.metamodel=t(51),i.prototype.util=t(75),i.prototype.caching=t(22),i.prototype.query=t(62),i.prototype.partialupdate=t(55),i.prototype.EntityManager=t(2),i.prototype.EntityManagerFactory=t(3),i.prototype.EntityTransaction=t(4),i.prototype.Acl=t(1);var o=new n,s=o.createEntityManager(!0);s.configure=function(t){return o.configure(t),this},s.connect=function(t,e,r,n){return e instanceof Function&&(n=r,r=e,e=void 0),o.connect(t,e),this.ready(r,n)},(r=e.exports=s).db=s,r.default=s},{1:1,2:2,20:20,22:22,27:27,3:3,33:33,35:35,4:4,51:51,55:55,62:62,75:75}],7:[function(t,e,r){"use strict";var n=function(){function t(){i.classCallCheck(this,t)}return t.prototype.getValue=function(t,e){return t[e.name]},t.prototype.setValue=function(t,e,r){t[e.name]=r},t}();e.exports=n},{}],8:[function(t,e,r){"use strict";var n=t(11).extend({get isRegistered(){return this._db.isDeviceRegistered},register:function(t,e,r,n,i){return r instanceof Function&&(i=n,n=r,r=null),this._db.registerDevice(t,e,r).then(n,i)},push:function(t,e,r){return this._db.pushDevice(t).then(e,r)}});n.PushMessage=t(69),e.exports=n},{11:11,69:69}],9:[function(t,e,r){"use strict";t(66),t(64);var n=function(){function t(){i.classCallCheck(this,t)}return t.prototype.createProxy=function(t){return function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e}(t)},t.prototype.getIdentifier=function(t){return t.__baqendId__},t.prototype.setIdentifier=function(t,e){Object.defineProperty(t,"__baqendId__",{value:e})},t.prototype.enhance=function(t,e){if(e.__baqendType__!=t){if(e.hasOwnProperty("__baqendType__"))throw new Error("Type is already used by a different manager");Object.defineProperty(e,"__baqendType__",{value:t}),this.setIdentifier(e,t.ref),this.enhancePrototype(e.prototype,t)}},t.prototype.enhancePrototype=function(t,e){if(t.toString===Object.prototype.toString&&Object.defineProperty(t,"toString",{value:function(){return this._metadata.id||this._metadata.bucket},enumerable:!1}),e.superType&&"Object"==e.superType.name){var r=e.superType.declaredAttributes,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;s.isMetadata||this.enhanceProperty(t,s)}}var a=e.declaredAttributes,u=Array.isArray(a),c=0;for(a=u?a:a[Symbol.iterator]();;){var h;if(u){if(c>=a.length)break;h=a[c++]}else{if((c=a.next()).done)break;h=c.value}var f=h;this.enhanceProperty(t,f)}},t.prototype.enhanceProperty=function(t,e){var r="$"+e.name;Object.defineProperty(t,e.name,{get:function(){var t=this._metadata;return t.readAccess(),t[r]},set:function(t){var e=this._metadata;e.writeAccess(),e[r]=t},configurable:!0,enumerable:!0})},t}();e.exports=n},{64:64,66:66}],10:[function(t,e,r){"use strict";var n=t(15),o=t(52),s=function(t){function e(r){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,r))}return i.inherits(e,t),e}(n);Object.defineProperties(s.prototype,{id:{get:function(){return this._metadata.id},set:function(t){if(this._metadata.id)throw new Error("The id can't be set twice: "+t);0==(t+="").indexOf("/db/"+this._metadata.bucket+"/")?this._metadata.id=t:this.key=t},enumerable:!0},key:{get:function(){return this._metadata.key},set:function(t){this._metadata.key=t}},version:{get:function(){return this._metadata.version},enumerable:!0},acl:{get:function(){return this._metadata.acl},enumerable:!0},ready:{value:function(t){return this._metadata.ready(t)}},attach:{value:function(t){t.attach(this)}},save:{value:function(t,e,r){return t instanceof Function&&(r=e,e=t,t={}),this._metadata.db.save(this,t).then(e,r)}},insert:{value:function(t,e,r){return t instanceof Function&&(r=e,e=t,t={}),this._metadata.db.insert(this,t).then(e,r)}},update:{value:function(t,e,r){return t instanceof Function&&(r=e,e=t,t={}),this._metadata.db.update(this,t).then(e,r)}},load:{value:function(t,e,r){return t instanceof Function&&(r=e,e=t,t={}),(t=t||{}).local=!0,this._metadata.db.load(this.id,null,t).then(e,r)}},delete:{value:function(t,e,r){return t instanceof Function&&(r=e,e=t,t={}),this._metadata.db.delete(this,t).then(e,r)}},optimisticSave:{value:function(t,e,r){return this._metadata.db.optimisticSave(this,t).then(e,r)}},attr:{value:function(){throw new Error("Attr is not yet implemented.")}},validate:{value:function(){return this._metadata.db.validate(this)}},partialUpdate:{value:function(t){return new o(this,t)}},getReferencing:{value:function(t){var e=this,r=this._metadata.db,n=this._metadata.type.getReferencing(r,t),i=Array.from(n).map(function(t){var n=t[0],i=r.createQueryBuilder(n.typeConstructor),o=[];return t[1].forEach(function(t){o.push(i.equal(t,e))}),(1==o.length?o[0]:i.or(o)).resultList()});return Promise.all(i).then(function(t){return t.filter(function(t){return!!t.length})}).then(function(t){return[].concat.apply([],t)})}},toJSON:{value:function(t){return"boolean"==typeof t&&(t={excludeMetadata:t}),"object"!==(void 0===t?"undefined":i.typeof(t))&&(t={}),this._metadata.getJson(t)}}}),e.exports=s},{15:15,52:52}],11:[function(t,e,r){"use strict";var n=t(16),i=(t(66),n.extend({load:function(t,e,r,n){return e instanceof Function&&(n=r,r=e,e={}),this._db.load(this._managedType.typeConstructor,t,e).then(r,n)},ref:function(t){return this._db.getReference(this._managedType.ref,t)},fromJSON:function(t){var e=this._db.getReference(this._managedType.typeConstructor,t.id);return this._managedType.fromJsonValue(null,t,e)},find:function(){return this._db.createQueryBuilder(this._managedType.typeConstructor)},partialUpdate:function(t,e){return this.ref(t).partialUpdate(e)}}));e.exports=i},{16:16,66:66}],12:[function(t,e,r){"use strict";var n=i({extend:function(t){return i({},this,t)},create:function(t){var e=function(t){return e.newInstance(arguments)};return i(e,this),e.prototype=t.prototype,e._type=t,e},new:function(){return this.newInstance(arguments)},newInstance:function(t){return t&&0!=t.length?new this._type(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9]):new this._type}});function i(t){for(var e,r=1;e=arguments[r];++r){var n=Object.getOwnPropertyNames(e),i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}}return t}e.exports=n},{}],13:[function(t,e,r){"use strict";var n=t(33),o=t(1),s=t(77).uuid,a=t(35),u=t(25).StatusCode,c="/file",h=c.length,f=function(){function t(e){if(i.classCallCheck(this,t),e=e||{},this._available=!1,Object(e)instanceof String){var r=e;if(-1==r.indexOf("/","/file/".length)||0!=r.indexOf("/file/"))throw new Error("Invalid file reference "+r);this._id=r}else if(e.id)this._id=e.id,this._setMetadata(e);else{var n=void 0;if(e.path)n=e.path;else{var o=e.parent||"/www";if("/"!=o.charAt(o.length-1)&&(o+="/"),o.length<3)throw new Error("Invalid parent name: "+o);n=o+(e.name||e.data&&e.data.name||s())}if("/"!=n.charAt(0)&&(n="/"+n),-1!=n.indexOf("//")||n.length<3)throw new Error("Invalid path: "+n);this._id=c+n,this._setMetadata(e)}this.isFolder="/"==this._id.charAt(this._id.length-1)}return i.createClass(t,[{key:"id",get:function(){return this._id}},{key:"url",get:function(){if(this.isFolder)throw new Error("Url can not be created for folders.");return this._url||(this._url=this._db.createURL(this.id,"www"!=this.bucket)),this._url}},{key:"name",get:function(){return this._name||(this._name=this._id.substring(this._id.lastIndexOf("/",this._id.length-2)+1)),this._name}},{key:"mimeType",get:function(){if(this.isFolder)throw new Error("A folder has no mimeType");return this._checkAvailable(),this._mimeType}},{key:"acl",get:function(){return this._checkAvailable(),this._acl}},{key:"lastModified",get:function(){if(this.isFolder)throw new Error("A folder has no lastModified");return this._checkAvailable(),this._lastModified}},{key:"createdAt",get:function(){if(this.isFolder)throw new Error("A folder has no creation date");return this._checkAvailable(),this._createdAt}},{key:"eTag",get:function(){if(this.isFolder)throw new Error("A folder has no eTag");return this._checkAvailable(),this._eTag}},{key:"headers",get:function(){if(this.isFolder)throw new Error("A folder has no custom headers");return this._checkAvailable(),this._headers}},{key:"size",get:function(){if(this.isFolder)throw new Error("A folder has no size");return this._checkAvailable(),this._size}},{key:"bucket",get:function(){return this.id.substring(h+1,this.id.indexOf("/",h+1))}},{key:"key",get:function(){return this.id.substring(this.id.indexOf("/",h+1)+1)}},{key:"path",get:function(){return this.id.substring(h)}},{key:"parent",get:function(){return this.id.substring(h,this.id.lastIndexOf("/",this.id.length-2))}},{key:"isMetadataLoaded",get:function(){return this._available}}]),t.prototype.upload=function(t,e,r){var n=this;if(t=t||{},this.isFolder)throw new Error("A folder cannot be uploaded");this._setMetadata(t);var i=new a.UploadFile(this.bucket,this.key).entity(this._data,this._type).acl(this._acl);return i.progress(t.progress),this._size&&i.contentLength(this._size),this._mimeType&&i.mimeType(this._mimeType),this._headers&&i.customHeaders(this._headers),this._conditional(i,t),this._db.addToBlackList(this.id),this._db.send(i).then(function(t){return n._data=null,n._type=null,n.fromJSON(t.entity),n}).then(e,r)},t.prototype.download=function(t,e,r){var n=this;if(t=t||{},this.isFolder)throw new Error("A folder cannot be downloaded");var i=t.type||"blob",o=new a.DownloadFile(this.bucket,this.key).responseType(i);return this._db.ensureCacheHeader(this.id,o,t.refresh),this._db.send(o).then(function(t){return n._db.addToWhiteList(n.id),n._fromHeaders(t.headers),t.entity},function(t){if(t.status==u.OBJECT_NOT_FOUND)return null;throw t}).then(e,r)},t.prototype.delete=function(t,e,r){var n=this;t=t||{};var i=new a.DeleteFile(this.bucket,this.key);return this._conditional(i,t),this.isFolder||this._db.addToBlackList(this.id),this._db.send(i).then(function(t){return n.isFolder?t.entity.map(function(t){return n._db.File(t)}):n}).then(e,r)},t.prototype._conditional=function(t,e){e.force||(this._lastModified&&t.ifUnmodifiedSince(this._lastModified),this._eTag&&t.ifMatch(this._eTag),this._lastModified||this._eTag||t.ifNoneMatch("*"))},t.prototype.loadMetadata=function(t,e,r){var n=this;if(t=t||{},this.isFolder)throw new Error("A folder has no matadata");var i=new a.GetFileMetadata(this.bucket,this.key);return this._db.ensureCacheHeader(this.id,i,t.refresh),this._db.send(i).then(function(t){return n._fromHeaders(t.headers),n},function(t){if(t.status==u.OBJECT_NOT_FOUND)return null;throw t}).then(e,r)},t.prototype.saveMetadata=function(t,e,r){var n=this;t=t||{};var i=this.toJSON();i.id=this._id;var o=new a.UpdateFileMetadata(this.bucket,this.key).entity(i);return this._conditional(o,t),this._db.send(o).then(function(t){return n.fromJSON(t.entity),n}).then(e,r)},t.prototype._setMetadata=function(t){var e=t.data,r=t.type,n=t.eTag,i=t.acl,s=t.size,a=t.mimeType,u=t.lastModified,c=t.headers;if(e){if("undefined"!=typeof Blob&&e instanceof Blob)a=a||e.type;else if("data-url"==r){var h=e.match(/^data:(.+?)(;base64)?,.*$/);a=a||h[1]}this._data=e,this._type=r,this._size=s,this._mimeType=a,this._acl=i||this._acl||new o,this._available=!0}else this._available=!1;this._eTag=n||this._eTag,u&&(this._lastModified=new Date(u)),c&&(this._headers=c)},t.prototype._fromHeaders=function(t){this.fromJSON({eTag:t.etag?t.etag.substring(1,t.etag.length-1):null,lastModified:t["last-modified"],createdAt:t["baqend-created-at"],mimeType:t["content-type"],acl:t["baqend-acl"]&&JSON.parse(t["baqend-acl"]),contentLength:+t["baqend-size"],headers:t["baqend-custom-headers"]&&JSON.parse(t["baqend-custom-headers"])})},t.prototype.fromJSON=function(t){t.mimeType&&(this._mimeType=t.mimeType),t.lastModified&&(this._lastModified=new Date(t.lastModified)),t.createdAt&&(this._createdAt=new Date(t.createdAt)),t.eTag&&(this._eTag=t.eTag),this._acl=this._acl||new o,t.acl&&this._acl.fromJSON(t.acl),t.contentLength&&(this._size=t.contentLength),t.headers&&(this._headers=t.headers),this._available=!0},t.prototype.toJSON=function(){var t={mimeType:this._mimeType,eTag:this._eTag,acl:this._acl,contentLength:this._size};return this._lastModified&&(t.lastModified=this._lastModified.toISOString()),this._createdAt&&(t.createdAt=this._createdAt.toISOString()),this._headers&&(t.headers=this._headers),t},t.prototype._checkAvailable=function(){if(!this._available)throw new n.PersistentError("The file metadata of "+this.id+" is not available.")},t}();e.exports=f},{1:1,25:25,33:33,35:35,77:77}],14:[function(t,e,r){"use strict";var n=t(12),i=t(13),o=t(35),s=t(68),a=n.extend({create:function(t){var e=n.create.call(this,i);return e._db=t,e},newInstance:function(t){var e=n.newInstance.call(this,t);return e._db=this._db,e},saveMetadata:function(t,e,r,n){var i=new o.SetFileBucketMetadata(t,e);return this._db.send(i).then(r,n)},loadMetadata:function(t,e,r,n){e=e||{};var i=new o.GetFileBucketMetadata(t);return this._db.send(i).then(function(t){var e={};return s.BASE_PERMISSIONS.forEach(function(r){e[r]=s.fromJSON(t.entity[r]||{})}),e},function(t){if(t.status==StatusCode.OBJECT_NOT_FOUND)return null;throw t}).then(r,n)},listBuckets:function(t,e){var r=this;return this._db.send(new o.ListBuckets).then(function(t){return t.entity.map(function(t){return r.new(t+"/")})}).then(t,e)},listFiles:function(t,e,r,n,i){var s=this;Object(t)instanceof String&&("/"!=t.charAt(t.length-1)&&(t+="/"),t=this.new({path:t}));var a=t.key,u=t.bucket;return e=e?e.key:null,this._db.send(new o.ListFiles(u,a,e,r)).then(function(t){return t.entity.map(function(t){return s.new(t)})}).then(n,i)}});e.exports=a},{12:12,13:13,35:35,68:68}],15:[function(t,e,r){"use strict";var n=t(66),o=function(){function t(e){i.classCallCheck(this,t),t.init(this,e)}return t.init=function(t,e){var r=t.constructor.__baqendType__;r&&Object.defineProperty(t,"_metadata",{value:n.create(r,t),configurable:!0}),e&&Object.assign(t,e)},t.extend=function(e){return e.prototype=Object.create(this.prototype,{constructor:{value:e,configurable:!0,writable:!0}}),e.extend=t.extend,e},t}();Object.defineProperties(o.prototype,{toJSON:{value:function(){return this._metadata.type.toJsonValue(this._metadata,this,{})}}}),e.exports=o},{66:66}],16:[function(t,e,r){"use strict";var n=t(12),i=(t(15),n.extend({create:function(t,e){var r=n.create.call(this,t.typeConstructor);return r.methods=r.prototype,r._managedType=t,r._db=e,r},newInstance:function(t){var e=t?n.newInstance.call(this,t):this._managedType.create(t);return e._metadata.db=this._db,e},fromJSON:function(t){var e=this.newInstance(),r=e._metadata;return this._managedType.fromJsonValue(r,t,e,{})},addMethods:function(t){Object.assign(this.methods,t)},addMethod:function(t,e){this.methods[t]=e}}));e.exports=i},{12:12,15:15}],17:[function(t,e,r){"use strict";var n=t(10),o=t(18),s=function(t){function e(r){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,r))}return i.inherits(e,t),e}(n);Object.defineProperties(s.prototype,{hasUser:{value:function(t){return this.users&&this.users.has(t)}},addUser:{value:function(t){if(!(t instanceof o))throw new Error("Only user instances can be added to a role.");this.users||(this.users=new Set),this.users.add(t)}},removeUser:{value:function(t){if(!(t instanceof o))throw new Error("Only user instances can be removed from a role.");this.users&&this.users.delete(t)}}}),e.exports=s},{10:10,18:18}],18:[function(t,e,r){"use strict";var n=function(t){function e(r){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,r))}return i.inherits(e,t),e}(t(10));Object.defineProperties(n.prototype,{newPassword:{value:function(t,e,r,n){return this._metadata.db.newPassword(this.username,t,e).then(r,n)}},changeUsername:{value:function(t,e,r,n){return this._metadata.db.changeUsername(this.username,t,e).then(r,n)}},requestAPIToken:{value:function(t,e){return this._metadata.db.requestAPIToken(this.constructor,this).then(t,e)}}}),e.exports=n},{10:10}],19:[function(t,e,r){"use strict";var n=t(11).extend({get me(){return this._db.me},register:function(t,e,r,n,i){return r instanceof Function&&(i=n,n=r,r=!0),t=Object(t)instanceof String?this.fromJSON({username:t}):t,this._db.register(t,e,void 0===r||r).then(n,i)},login:function(t,e,r,n,i){return r instanceof Function&&(i=n,n=r,r=!0),this._db.login(t,e,void 0===r||r).then(n,i)},loginWithToken:function(t,e,r,n){return e instanceof Function&&(n=r,r=e,e=!0),this._db.token=t,this._db.renew(e).then(r,n)},logout:function(t,e){return this._db.logout().then(t,e)},newPassword:function(t,e,r,n,i){if("string"!=typeof r){var o=arguments,s=o[0],a=o[1],u=o[2],c=o[3],h=o[4];return u instanceof Function&&(h=c,c=u,u=!0),this._db.newPasswordWithToken(s,a,u).then(c,h)}return this._db.newPassword(t,e,r).then(n,i)},resetPassword:function(t,e,r){return this._db.resetPassword(t).then(e,r)},changeUsername:function(t,e,r,n,i){return this._db.changeUsername(t,e,r,n,i)},requestAPIToken:function(t,e,r){return this._db.requestAPIToken(this._managedType.typeConstructor,t).then(e,r)},revokeAllTokens:function(t,e,r){return this._db.revokeAllTokens(this._managedType.typeConstructor,t).then(e,r)}});n.LoginOption={NO_LOGIN:-1,SESSION_LOGIN:0,PERSIST_LOGIN:1},n.DefaultOptions={google:{width:585,height:545,scope:"email"},facebook:{width:1140,height:640,scope:"email"},github:{width:1040,height:580,scope:"user:email"},twitter:{width:740,height:730},linkedin:{width:630,height:530,scope:""}},["Google","Facebook","GitHub","Twitter","LinkedIn"].forEach(function(t){n["loginWith"+t]=function(e,r,i,o){return r instanceof Function&&(o=i,i=r,r={}),r=Object.assign({},n.DefaultOptions[t.toLowerCase()],r||{}),this._db.loginWithOAuth(t,e,r).then(i,o)}}),e.exports=n},{11:11}],20:[function(t,e,r){"use strict";r.Accessor=t(7),r.Enhancer=t(9),r.Factory=t(12),r.ManagedFactory=t(16),r.EntityFactory=t(11),r.UserFactory=t(19),r.DeviceFactory=t(8),r.FileFactory=t(14),r.Managed=t(15),r.Entity=t(10),r.Role=t(17),r.User=t(18),r.File=t(13)},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,7:7,8:8,9:9}],21:[function(t,e,r){"use strict";var n=t(73).atob,o=function(){function t(e){i.classCallCheck(this,t),this.bytes=n(e.b),this.bits=e.m,this.hashes=e.h,this.creation=Date.now()}return t.prototype.contains=function(e){var r=t._getHashes(e,this.bits,this.hashes),n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;if(!this._isSet(s))return!1}return!0},t.prototype._isSet=function(t){var e=Math.floor(t/8),r=1<<t%8;return 0!=(this.bytes.charCodeAt(e)&r)},t._getHashes=function(e,r,n){for(var i=new Array(this.hashes),o=t._murmur3(0,e),s=t._murmur3(o,e),a=0;a<n;a++)i[a]=(o+a*s)%r;return i},t._murmur3=function(t,e){var r=3&e.length,n=e.length-r,i=3432918353,o=461845907,s=void 0,a=void 0,u=void 0,c=void 0;for(s=t,c=0;c<n;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,s=27492+(65535&(a=5*(65535&(s=(s^=u=(65535&(u=(u=(65535&u)*i+(((u>>>16)*i&65535)<<16)&4294967295)<<15|u>>>17))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<13|s>>>19))+((5*(s>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:s^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*i+(((u>>>16)*i&65535)<<16)&4294967295)<<15|u>>>17))*o+(((u>>>16)*o&65535)<<16)&4294967295}return s^=e.length,s=2246822507*(65535&(s^=s>>>16))+((2246822507*(s>>>16)&65535)<<16)&4294967295,s=3266489909*(65535&(s^=s>>>13))+((3266489909*(s>>>16)&65535)<<16)&4294967295,(s^=s>>>16)>>>0},t}();e.exports=o},{73:73}],22:[function(t,e,r){"use strict";r.BloomFilter=t(21)},{21:21}],23:[function(t,e,r){"use strict";var n=t(31),o=(t(35),function(){function t(e,r,n,o){i.classCallCheck(this,t),this.host=e,this.port=r,this.secure=n,this.basePath=o,this.origin=t.toUri(e,r,n,"")}return t.create=function(e,r,n,i){if("undefined"!=typeof location&&(e||(e=location.hostname,r=Number(location.port)),void 0===n&&(n="https:"==location.protocol)),n=!!n,void 0===i&&(i=t.DEFAULT_BASE_PATH),-1!=e.indexOf("/")){var o=/^(https?):\/\/([^\/:]+|\[[^\]]+])(:(\d*))?(\/\w+)?\/?$/.exec(e);if(!o)throw new Error("The connection uri host "+e+" seems not to be valid");n="https"==o[1],e=o[2].replace(/(\[|])/g,""),r=o[4],i=o[5]||""}else"localhost"!=e&&/^[a-z0-9-]*$/.test(e)&&(e+=t.HTTP_DOMAIN);r||(r=n?443:80);var s=t.toUri(e,r,n,i),a=this.connections[s];if(!a){for(var u=this.connectors.length-1;u>=0;--u){var c=this.connectors[u];if(c.isUsable&&c.isUsable(e,r,n,i)){a=new c(e,r,n,i);break}}if(!a)throw new Error("No connector is usable for the requested connection.");this.connections[s]=a}return a},t.toUri=function(t,e,r,n){var i=(r?"https://":"http://")+(-1!=t.indexOf(":")?"["+t+"]":t);return i+=r&&443!=e||!r&&80!=e?":"+e:"",i+=n},t.prototype.send=function(t){var e=this,r={status:0};return new Promise(function(r){e.prepareRequest(t),e.doSend(t,t.request,r)}).then(function(t){return r=t}).then(function(){return e.prepareResponse(t,r)}).then(function(){return t.doReceive(r),r}).catch(function(t){throw r.entity=null,n.of(t)})},t.prototype.doSend=function(t,e,r){},t.prototype.prepareRequest=function(t){if(!t.mimeType()){var e=t.request.type;"json"==e?t.mimeType("application/json;charset=utf-8"):"text"==e&&t.mimeType("text/plain;charset=utf-8")}this.toFormat(t);var r=void 0;switch(t.responseType()){case"json":r="application/json";break;case"text":r="text/*";break;default:r="application/json,text/*;q=0.5,*/*;q=0.1"}if(t.accept()||t.accept(r),this.gzip){var n=t.ifNoneMatch();n&&'""'!==n&&"*"!=n&&t.ifNoneMatch(n.slice(0,-1)+'--gzip"')}if("/connect"==t.request.path)t.request.path=t.tokenStorage.signPath(this.basePath+t.request.path).substring(this.basePath.length),t.cacheControl()&&(t.request.path+=(t.tokenStorage.token?"&":"?")+"BCB");else if(t.tokenStorage){var i=t.tokenStorage.token;i&&t.header("authorization","BAT "+i)}},t.prototype.toFormat=function(t){},t.prototype.prepareResponse=function(t,e){var r=this;e.status=1223==e.status?204:e.status;var n=void 0,i=e.headers||{},o=204==e.status?null:e.entity;if(o&&(!(n=t.responseType())||e.status>=400)){var s=i["content-type"]||i["Content-Type"];s&&s.indexOf("application/json")>-1&&(n="json")}if(i.etag&&(i.etag=i.etag.replace("--gzip","")),t.tokenStorage){var a=i["baqend-authorization-token"]||i["Baqend-Authorization-Token"];a&&t.tokenStorage.update(a)}return new Promise(function(t){t(o&&r.fromFormat(e,o,n))}).then(function(n){e.entity=n,-1!=t.request.path.indexOf("/connect")&&n&&(r.gzip=!!n.gzip)},function(t){throw new Error("Response was not valid "+n+": "+t.message)})},t.prototype.fromFormat=function(t,e,r){},t}());Object.assign(o,{DEFAULT_BASE_PATH:"/v1",HTTP_DOMAIN:".app.baqend.com",RESPONSE_HEADERS:["baqend-authorization-token","content-type","baqend-size","baqend-acl","etag","last-modified","baqend-created-at","baqend-custom-headers"],connectors:[],connections:{},gzip:!1}),e.exports=o},{31:31,35:35}],24:[function(t,e,r){"use strict";var n=t(23),o=function(t){function e(r,n,o,s){i.classCallCheck(this,e);var a=i.possibleConstructorReturn(this,t.call(this,r,n,o,s));return a.mid=0,a.messages={},a.doReceive=a.doReceive.bind(a),addEventListener("message",a.doReceive,!1),a}return i.inherits(e,t),e.isUsable=function(t,e,r){if("undefined"==typeof location||"undefined"==typeof document)return!1;var n="https:"==location.protocol,i=location.port||(n?443:80);return location.hostname!=t||i!=e||n!=r},e.prototype.load=function(t){this.iframe=document.createElement("iframe"),this.iframe.src=this.origin+this.basePath+t,this.iframe.setAttribute("style",e.style),document.body.appendChild(this.iframe),this.queue=[],this.iframe.addEventListener("load",this.onLoad.bind(this),!1)},e.prototype.onLoad=function(){for(var t=this.queue,e=0;e<t.length;++e)this.postMessage(t[e]);this.queue=null},e.prototype.doSend=function(e,r,i){var o=this;if(e.isBinary)return t.prototype.doSend.call(this,e,r,i);this.iframe||(this.load(e.request.path),e.request.path="/connect");var s={mid:++this.mid,method:r.method,path:r.path,headers:r.headers,entity:r.entity,responseHeaders:n.RESPONSE_HEADERS};this.messages[s.mid]=i;var a=JSON.stringify(s);this.queue?this.queue.push(a):this.postMessage(a),this.connected||setTimeout(function(){o.messages[s.mid]&&(delete o.messages[s.mid],i({status:0,error:new Error("Connection refused.")}))},1e4)},e.prototype.postMessage=function(t){this.iframe.contentWindow.postMessage(t,this.origin)},e.prototype.doReceive=function(t){if(t.origin===this.origin&&"{"==t.data[0]){var e=JSON.parse(t.data),r=this.messages[e.mid];r&&(delete this.messages[e.mid],this.connected=!0,r({status:e.status,headers:e.headers,entity:e.entity}))}},e}(t(26));o.style="width:1px;height:1px;position:absolute;top:-10px;left:-10px;",n.connectors.push(o),e.exports=o},{23:23,26:26}],25:[function(t,r,n){"use strict";var o=t(28),s="undefined"==typeof navigator||"undefined"!=typeof chrome&&/google/i.test(navigator.vendor)||/cros i686/i.test(navigator.platform),a=function(){function t(){i.classCallCheck(this,t),this.withCredentials=!1,this.tokenStorage=null,this._progress=null;var e=arguments,r=0,n=this.spec.path;if(Object(n)instanceof Array){n=this.spec.path[0];for(var o=this.spec.path.length,s=1;s<o;++s)this.spec.dynamic&&o-1==s?(n+=e[r].split("/").map(encodeURIComponent).join("/"),r+=1):n+=encodeURIComponent(e[r++])+this.spec.path[s]}for(var a="",u=0;u<this.spec.query.length;++u){var c=e[r++];void 0!==c&&null!==c&&(a+=a||~n.indexOf("?")?"&":"?",a+=this.spec.query[u]+"="+encodeURIComponent(c))}this.request={method:this.spec.method,path:n+a,entity:null,headers:{}},e[r]&&this.entity(e[r],"json"),this.responseType("json")}return t.create=function(e){var r=e.path.split("?"),n=r[0].split(/[:\*]\w*/),o=[];return r[1]&&r[1].split("&").forEach(function(t){var e=t.split("=");o.push(e[0])}),e.dynamic=-1!=e.path.indexOf("*"),e.path=n,e.query=o,function(t){function r(){return i.classCallCheck(this,r),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(r,t),i.createClass(r,[{key:"spec",get:function(){return e}}]),r}(t)},t.createExternal=function(e,r){e.path=[e.path];var n=function(t){function r(){return i.classCallCheck(this,r),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(r,t),i.createClass(r,[{key:"spec",get:function(){return e}}]),r}(t);return Object.assign(n.prototype,r),n},i.createClass(t,[{key:"isBinary",get:function(){return this.request.type in t.BINARY||this._responseType in t.BINARY}}]),t.prototype.header=function(t,e){return void 0!==e?(this.request.headers[t]=e,this):this.request.headers[t]},t.prototype.entity=function(t,r){return r||(r="string"==typeof t?/^data:(.+?)(;base64)?,.*$/.test(t)?"data-url":"text":"undefined"!=typeof Blob&&t instanceof Blob?"blob":void 0!==e&&t instanceof e?"buffer":"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?"arraybuffer":"undefined"!=typeof FormData&&t instanceof FormData?"form":"json"),this.request.type=r,this.request.entity=t,this},t.prototype.mimeType=function(t){return this.header("content-type",t)},t.prototype.contentLength=function(t){return this.header("content-length",t)},t.prototype.ifMatch=function(t){return this.header("If-Match",this._formatETag(t))},t.prototype.ifNoneMatch=function(t){return this.header("If-None-Match",this._formatETag(t))},t.prototype.ifUnmodifiedSince=function(t){return this.header("if-unmodified-since",t&&t.toUTCString().replace("UTC","GMT"))},t.prototype.noCache=function(){return s||this.ifMatch("").ifNoneMatch("-"),this.cacheControl("max-age=0, no-cache")},t.prototype.cacheControl=function(t){return this.header("cache-control",t)},t.prototype.acl=function(t){return this.header("baqend-acl",t&&JSON.stringify(t))},t.prototype.customHeaders=function(t){return this.header("baqend-custom-headers",t&&JSON.stringify(t))},t.prototype.accept=function(t){return this.header("accept",t)},t.prototype.responseType=function(t){return void 0!==t?(this._responseType=t,this):this._responseType},t.prototype.progress=function(t){return void 0!==t?(this._progress=t,this):this._progress},t.prototype.addQueryString=function(t){var e=this;if(Object(t)instanceof String)this.request.path+=t;else if(t){var r=~this.request.path.indexOf("?")?"&":"?";Object.keys(t).forEach(function(n,i){e.request.path+=r+n+"="+encodeURIComponent(t[n]),0==i&&(r="&")})}return this},t.prototype._formatETag=function(t){return t&&"*"!=t&&-1==(t=""+t).indexOf('"')&&(t='"'+t+'"'),t},t.prototype.doReceive=function(t){if(-1==this.spec.status.indexOf(t.status))throw new o(this,t)},t}();Object.assign(a,{StatusCode:{NOT_MODIFIED:304,BAD_CREDENTIALS:460,BUCKET_NOT_FOUND:461,INVALID_PERMISSION_MODIFICATION:462,INVALID_TYPE_VALUE:463,OBJECT_NOT_FOUND:404,OBJECT_OUT_OF_DATE:412,PERMISSION_DENIED:466,QUERY_DISPOSED:467,QUERY_NOT_SUPPORTED:468,SCHEMA_NOT_COMPATIBLE:469,SCHEMA_STILL_EXISTS:470,SYNTAX_ERROR:471,TRANSACTION_INACTIVE:472,TYPE_ALREADY_EXISTS:473,TYPE_STILL_REFERENCED:474,SCRIPT_ABORTION:475},BINARY:{blob:!0,buffer:!0,stream:!0,arraybuffer:!0,"data-url":!0,base64:!0},GoogleOAuth:a.createExternal({method:"OAUTH",path:"https://accounts.google.com/o/oauth2/auth?response_type=code&access_type=online",query:["client_id","scope","state"],status:[200]},{addRedirectOrigin:function(t){this.addQueryString({redirect_uri:t+"/db/User/OAuth/google"})}}),FacebookOAuth:a.createExternal({method:"OAUTH",path:"https://www.facebook.com/dialog/oauth?response_type=code",query:["client_id","scope","state"],status:[200]},{addRedirectOrigin:function(t){this.addQueryString({redirect_uri:t+"/db/User/OAuth/facebook"})}}),GitHubOAuth:a.createExternal({method:"OAUTH",path:"https://github.com/login/oauth/authorize?response_type=code&access_type=online",query:["client_id","scope","state"],status:[200]},{addRedirectOrigin:function(t){this.addQueryString({redirect_uri:t+"/db/User/OAuth/github"})}}),LinkedInOAuth:a.createExternal({method:"OAUTH",path:"https://www.linkedin.com/uas/oauth2/authorization?response_type=code&access_type=online",query:["client_id","scope","state"],status:[200]},{addRedirectOrigin:function(t){this.addQueryString({redirect_uri:t+"/db/User/OAuth/linkedin"})}}),TwitterOAuth:a.createExternal({method:"OAUTH",path:"",query:[],status:[200]},{addRedirectOrigin:function(t){this.request.path=t+"/db/User/OAuth1/twitter"}})}),r.exports=a},{28:28}],26:[function(t,e,r){"use strict";var n=t(23),o=function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.isUsable=function(t,e,r){return"undefined"!=typeof XMLHttpRequest},e.prototype.doSend=function(t,e,r){var i=this;if("OAUTH"==e.method){this.oAuthHandle&&this.oAuthHandle({status:409,entity:'{"message": "A new OAuth request was sent."}'}),localStorage.removeItem("oauth-response");var o=function(t){"oauth-response"==t.key&&i.oAuthHandle(JSON.parse(t.newValue))};return this.oAuthHandle=function(t){r(t),localStorage.removeItem("oauth-response"),removeEventListener("storage",o,!1)},void addEventListener("storage",o,!1)}var s=new XMLHttpRequest,a=this.origin+this.basePath+e.path;s.onreadystatechange=function(){if(s.responseType&&2==s.readyState&&s.status>=400&&(s.responseType="text"),4==s.readyState){var t={headers:{},status:s.status,entity:s.response||s.responseText};n.RESPONSE_HEADERS.forEach(function(e){t.headers[e]=s.getResponseHeader(e)}),r(t)}},s.upload&&t.progress()&&(s.upload.onprogress=t.progress()),s.open(e.method,a,!0);var u=e.entity,c=e.headers;for(var h in c)s.setRequestHeader(h,c[h]);switch(s.withCredentials=t.withCredentials,t.responseType()){case"arraybuffer":s.responseType="arraybuffer";break;case"blob":case"data-url":case"base64":s.responseType="blob"}s.send(u)},e.prototype.fromFormat=function(t,e,r){if("json"==r)e=JSON.parse(e);else if("data-url"==r||"base64"==r){var n=new FileReader;return n.readAsDataURL(e),new Promise(function(t,e){n.onload=t,n.onerror=e}).then(function(){var t=n.result;return"base64"==r&&(t=t.substring(t.indexOf(",")+1)),t})}return e},e.prototype.toFormat=function(t){var e=t.request.type;if(e){var r=t.request.entity,n=t.mimeType();switch(e){case"blob":n=n||r.type;break;case"arraybuffer":case"form":break;case"data-url":var i=r.match(/^data:(.+?)(;base64)?,(.*)$/),o=i[2];if(r=i[3],e="blob",n=n||i[1],!o){r=decodeURIComponent(r);break}case"base64":for(var s=atob(r),a=s.length,u=new Uint8Array(a),c=0;c<a;++c)u[c]=s.charCodeAt(c);e="blob",r=new Blob([u],{type:n});break;case"json":"string"!=typeof r&&(r=JSON.stringify(r))}t.entity(r,e).mimeType(n)}},e}(n);n.connectors.push(o),e.exports=o},{23:23}],27:[function(t,e,r){"use strict";r.Message=t(25),r.Connector=t(23),r.FetchConnector=t(78),r.XMLHttpConnector=t(26),r.IFrameConnector=t(24),r.NodeConnector=t(78)},{23:23,24:24,25:25,26:26,78:78}],28:[function(t,e,r){"use strict";var n=function(t){function e(r,n){i.classCallCheck(this,e);var o=n.entity||n.error||{},s=0==n.status?"Request":"Response",a=o.message||"Handling the "+s+" for "+r.request.method+" "+r.request.path,u=i.possibleConstructorReturn(this,t.call(this,a,o));u.name=o.className||"CommunicationError",u.reason=o.reason||"Communication failed",u.status=n.status,o.data&&(u.data=o.data);for(var c=o;c&&c.stackTrace;){u.stack+="\nServerside Caused by: "+c.className+" "+c.message;for(var h=c.stackTrace,f=0;f<h.length;++f){var l=h[f];u.stack+="\n    at "+l.className+"."+l.methodName,u.stack+=" ("+l.fileName+":"+l.lineNumber+")"}c=c.cause}return u}return i.inherits(e,t),e}(t(31));e.exports=n},{31:31}],29:[function(t,e,r){"use strict";var n=function(t){function e(r){i.classCallCheck(this,e);var n=i.possibleConstructorReturn(this,t.call(this,"The entity "+r+" is managed by a different db."));return n.entity=r,n}return i.inherits(e,t),e}(t(31));e.exports=n},{31:31}],30:[function(t,e,r){"use strict";var n=function(t){function e(r){i.classCallCheck(this,e);var n=i.possibleConstructorReturn(this,t.call(this,"Entity "+r+" is not a valid entity"));return n.entity=r,n}return i.inherits(e,t),e}(t(31));e.exports=n},{31:31}],31:[function(t,e,r){"use strict";function n(t,e){t=t||"An unexpected persistent error occured.",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name=this.constructor.name,e&&(this.cause=e,e.stack&&(this.stack+="\nCaused By: "+e.stack))}n.of=function(t){return t instanceof n?t:new n(null,t)},n.prototype=Object.create(Error.prototype,{constructor:{value:n,enumerable:!1,configurable:!0}}),e.exports=n},{}],32:[function(t,e,r){"use strict";var n=function(t){function e(r){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,"The transaction has been rollbacked",r))}return i.inherits(e,t),e}(t(31));e.exports=n},{31:31}],33:[function(t,e,r){"use strict";r.CommunicationError=t(28),r.IllegalEntityError=t(30),r.EntityExistsError=t(29),r.PersistentError=t(31),r.RollbackError=t(32)},{28:28,29:29,30:30,31:31,32:32}],34:[function(t,e,r){"use strict";t(173),e.exports=t(6)},{173:173,6:6}],35:[function(t,e,r){"use strict";var n=t(25);r.ListAllResources=n.create({method:"GET",path:"/",status:[200]}),r.ApiVersion=n.create({method:"GET",path:"/version",status:[200]}),r.Specification=n.create({method:"GET",path:"/spec",status:[200]}),r.GetBloomFilter=n.create({method:"GET",path:"/bloomfilter",status:[200]}),r.DeleteBloomFilter=n.create({method:"DELETE",path:"/bloomfilter",status:[204]}),r.GetOrestesConfig=n.create({method:"GET",path:"/config",status:[200]}),r.UpdateOrestesConfig=n.create({method:"PUT",path:"/config",status:[200,202]}),r.Connect=n.create({method:"GET",path:"/connect",status:[200]}),r.Status=n.create({method:"GET",path:"/status",status:[200]}),r.EventsUrl=n.create({method:"GET",path:"/events-url",status:[200]}),r.BannedIp=n.create({method:"GET",path:"/banned/:ip",status:[204]}),r.Banned=n.create({method:"GET",path:"/banned",status:[]}),r.Unban=n.create({method:"DELETE",path:"/banned",status:[204]}),r.UnbanIp=n.create({method:"DELETE",path:"/banned/:ip",status:[204]}),r.GetBucketNames=n.create({method:"GET",path:"/db",status:[200]}),r.GetBucketIds=n.create({method:"GET",path:"/db/:bucket/ids?start=0&count=-1",status:[200]}),r.ExportBucket=n.create({method:"GET",path:"/db/:bucket",status:[200]}),r.ImportBucket=n.create({method:"PUT",path:"/db/:bucket",status:[200]}),r.TruncateBucket=n.create({method:"DELETE",path:"/db/:bucket",status:[200]}),r.CreateObject=n.create({method:"POST",path:"/db/:bucket",status:[201,202]}),r.GetObject=n.create({method:"GET",path:"/db/:bucket/:oid",status:[200,304]}),r.ReplaceObject=n.create({method:"PUT",path:"/db/:bucket/:oid",status:[200,202]}),r.DeleteObject=n.create({method:"DELETE",path:"/db/:bucket/:oid",status:[202,204]}),r.GetAllSchemas=n.create({method:"GET",path:"/schema",status:[200]}),r.UpdateAllSchemas=n.create({method:"POST",path:"/schema",status:[200]}),r.ReplaceAllSchemas=n.create({method:"PUT",path:"/schema",status:[200]}),r.GetSchema=n.create({method:"GET",path:"/schema/:bucket",status:[200]}),r.UpdateSchema=n.create({method:"POST",path:"/schema/:bucket",status:[200]}),r.ReplaceSchema=n.create({method:"PUT",path:"/schema/:bucket",status:[200]}),r.DeleteSchema=n.create({method:"DELETE",path:"/schema/:bucket",status:[204]}),r.AdhocQuery=n.create({method:"GET",path:"/db/:bucket/query?q&start=0&count=-1&sort=&eager=&hinted=",status:[200]}),r.AdhocQueryPOST=n.create({method:"POST",path:"/db/:bucket/query?start=0&count=-1&sort=",status:[200]}),r.AdhocCountQuery=n.create({method:"GET",path:"/db/:bucket/count?q",status:[200]}),r.AdhocCountQueryPOST=n.create({method:"POST",path:"/db/:bucket/count",status:[200]}),r.ListQueryResources=n.create({method:"GET",path:"/query",status:[200]}),r.CreateQuery=n.create({method:"POST",path:"/query",status:[201]}),r.ListThisQueryResources=n.create({method:"GET",path:"/query/:qid",status:[200]}),r.GetQueryCode=n.create({method:"GET",path:"/query/:qid/source",status:[200]}),r.RunQuery=n.create({method:"GET",path:"/query/:qid/result?start=0&count=-1",status:[200]}),r.GetQueryParameters=n.create({method:"GET",path:"/query/:qid/parameters",status:[200]}),r.NewTransaction=n.create({method:"POST",path:"/transaction",status:[201]}),r.CommitTransaction=n.create({method:"PUT",path:"/transaction/:tid/committed",status:[200]}),r.UpdatePartially=n.create({method:"POST",path:"/db/:bucket/:oid",status:[200]}),r.UpdateField=n.create({method:"POST",path:"/db/:bucket/:oid/:field",status:[200]}),r.Login=n.create({method:"POST",path:"/db/User/login",status:[200]}),r.Register=n.create({method:"POST",path:"/db/User/register",status:[200,204]}),r.Me=n.create({method:"GET",path:"/db/User/me",status:[200]}),r.ValidateUser=n.create({method:"GET",path:"/db/User/validate",status:[200]}),r.Logout=n.create({method:"GET",path:"/db/User/logout",status:[204]}),r.NewPassword=n.create({method:"POST",path:"/db/User/password",status:[200]}),r.ResetPassword=n.create({method:"POST",path:"/db/User/reset",status:[200]}),r.Verify=n.create({method:"GET",path:"/db/User/verify?token=",status:[204]}),r.ChangeUsername=n.create({method:"POST",path:"/db/User/changeUsername",status:[204]}),r.VerifyUsername=n.create({method:"GET",path:"/db/User/verifyUsername?token=",status:[204]}),r.OAuth2=n.create({method:"GET",path:"/db/User/OAuth/:provider?state=&code=&oauth_verifier=&oauth_token=&error_description=",status:[200]}),r.OAuth1=n.create({method:"GET",path:"/db/User/OAuth1/:provider",status:[200]}),r.UserToken=n.create({method:"POST",path:"/db/User/:oid/token",status:[200]}),r.RevokeUserToken=n.create({method:"DELETE",path:"/db/User/:oid/token",status:[204]}),r.GetBaqendCode=n.create({method:"GET",path:"/code/:bucket/:type",status:[200]}),r.SetBaqendCode=n.create({method:"PUT",path:"/code/:bucket/:type",status:[200,202]}),r.DeleteBaqendCode=n.create({method:"DELETE",path:"/code/:bucket/:type",status:[202,204]}),r.PostBaqendModule=n.create({method:"POST",path:"/code/:bucket",status:[200,204]}),r.GetBaqendModule=n.create({method:"GET",path:"/code/:bucket",status:[200,204]}),r.GetAllModules=n.create({method:"GET",path:"/code",status:[200]}),r.ListFiles=n.create({method:"GET",path:"/file/:bucket/ids?path=/&start=&count=-1&deep=false",status:[200]}),r.ListBuckets=n.create({method:"GET",path:"/file/buckets",status:[200]}),r.DownloadArchive=n.create({method:"GET",path:"/file",status:[200]}),r.UploadPatchArchive=n.create({method:"POST",path:"/file",status:[200]}),r.GetFileBucketMetadata=n.create({method:"GET",path:"/file/:bucket",status:[200]}),r.SetFileBucketMetadata=n.create({method:"PUT",path:"/file/:bucket",status:[204]}),r.DeleteFileBucket=n.create({method:"DELETE",path:"/file/:bucket",status:[204]}),r.CreateFile=n.create({method:"POST",path:"/file/:bucket",status:[200]}),r.DownloadFile=n.create({method:"GET",path:"/file/:bucket/*oid",status:[200,304]}),r.UploadFile=n.create({method:"PUT",path:"/file/:bucket/*oid",status:[200]}),r.GetFileMetadata=n.create({method:"HEAD",path:"/file/:bucket/*oid",status:[200]}),r.UpdateFileMetadata=n.create({method:"POST",path:"/file/:bucket/*oid",status:[200]}),r.DeleteFile=n.create({method:"DELETE",path:"/file/:bucket/*oid",status:[200,204]}),r.DownloadAsset=n.create({method:"GET",path:"/asset/*url",status:[200,304]}),r.RevalidateAssets=n.create({method:"POST",path:"/asset/revalidate",status:[202]}),r.GetRevalidationStatus=n.create({method:"GET",path:"/asset/revalidate/:id",status:[200,202]}),r.ListIndexes=n.create({method:"GET",path:"/index/:bucket",status:[200]}),r.CreateDropIndex=n.create({method:"POST",path:"/index/:bucket",status:[202]}),r.DropAllIndexes=n.create({method:"DELETE",path:"/index/:bucket",status:[202]}),r.DeviceRegister=n.create({method:"POST",path:"/db/Device/register",status:[204]}),r.DevicePush=n.create({method:"POST",path:"/db/Device/push",status:[204]}),r.DeviceRegistered=n.create({method:"GET",path:"/db/Device/registered",status:[200]}),r.UploadAPNSCertificate=n.create({method:"POST",path:"/config/APNSCert",status:[204]}),r.GCMAKey=n.create({method:"POST",path:"/config/GCMKey",status:[204]})},{25:25}],36:[function(t,e,r){"use strict";var n=t(7),o=function(){function t(e,r){i.classCallCheck(this,t),this.isMetadata=!!r,this.isId=!1,this.isVersion=!1,this.isAcl=!1,this.name=e,this.order=null,this.accessor=null,this.declaringType=null,this.metadata=null}return i.createClass(t,[{key:"persistentAttributeType",get:function(){return-1}},{key:"isAssociation",get:function(){return this.persistentAttributeType>t.PersistentAttributeType.EMBEDDED}},{key:"isCollection",get:function(){return this.persistentAttributeType==t.PersistentAttributeType.ELEMENT_COLLECTION}}]),t.prototype.init=function(t,e){if(this.declaringType)throw new Error("The attribute is already initialized.");this.order=e,this.accessor=new n,this.declaringType=t},t.prototype.getValue=function(t){return this.accessor.getValue(t,this)},t.prototype.setValue=function(t,e){this.accessor.setValue(t,this,e)},t.prototype.hasMetadata=function(t){return this.metadata&&!!this.metadata[t]},t.prototype.getMetadata=function(t){return this.hasMetadata(t)?this.metadata[t]:null},t.prototype.getJsonValue=function(t,e,r){},t.prototype.setJsonValue=function(t,e,r,n){},t.prototype.toJSON=function(){return{name:this.name,metadata:this.metadata||void 0,order:this.order}},t}();o.PersistentAttributeType={BASIC:0,ELEMENT_COLLECTION:1,EMBEDDED:2,MANY_TO_MANY:3,MANY_TO_ONE:4,ONE_TO_MANY:5,ONE_TO_ONE:6},e.exports=o},{7:7}],37:[function(t,e,r){"use strict";var n=t(50),o=t(5),s=t(13),a=function(t){function e(r,n,o){i.classCallCheck(this,e),0!=r.indexOf("/db/")&&(r="/db/"+r);var s=i.possibleConstructorReturn(this,t.call(this,r,n));return s.noResolving=o,s}return i.inherits(e,t),i.createClass(e,[{key:"persistenceType",get:function(){return n.PersistenceType.BASIC}}]),e.prototype.toJsonValue=function(t,e){return null===e||void 0===e?null:this.typeConstructor(e)},e.prototype.fromJsonValue=function(t,e,r){return null===e||void 0===e?null:e},e.prototype.toString=function(){return"BasicType("+this.ref+")"},e}(n);function u(t){return t instanceof Date?t.toISOString().replace(/\.?0*Z/,"Z"):null}function c(t,e){var r="string"==typeof t?new Date(t):null;return e&&r&&e.toISOString()==r.toISOString()?e:r}Object.assign(a,{Boolean:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.fromJsonValue=function(e,r,n){return"string"==typeof r?"false"!==r:t.prototype.fromJsonValue.call(this,e,r,n)},e}(a))("Boolean",Boolean),Double:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.fromJsonValue=function(e,r,n){return"string"==typeof r?parseFloat(r):t.prototype.fromJsonValue.call(this,e,r,n)},e}(a))("Double",Number),Integer:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.fromJsonValue=function(e,r,n){return"string"==typeof r?parseInt(r):t.prototype.fromJsonValue.call(this,e,r,n)},e}(a))("Integer",Number),String:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e}(a))("String",String),DateTime:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.toJsonValue=function(t,e){return u(e)},e.prototype.fromJsonValue=function(t,e,r){return c(e,r)},e}(a))("DateTime",Date),Date:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.toJsonValue=function(t,e){var r=u(e);return r?r.substring(0,r.indexOf("T")):null},e.prototype.fromJsonValue=function(t,e,r){return c(e,r)},e}(a))("Date",Date),Time:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.toJsonValue=function(t,e){var r=u(e);return r?r.substring(r.indexOf("T")+1):null},e.prototype.fromJsonValue=function(t,e,r){return"string"==typeof e?c("1970-01-01T"+e,r):e},e}(a))("Time",Date),File:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.toJsonValue=function(t,e){return e instanceof s?e.id:null},e.prototype.fromJsonValue=function(t,e,r){return e?r&&r.id==e?r:new t.db.File(e):null},e}(a))("File",s),GeoPoint:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.toJsonValue=function(t,e){return e instanceof o?e:null},e.prototype.fromJsonValue=function(t,e){return e?new o(e):null},e}(a))("GeoPoint",o),JsonArray:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.init=function(t){this._enhancer=t},e.prototype.toJsonValue=function(t,e){return Array.isArray(e)?e:null},e.prototype.fromJsonValue=function(t,e){return Array.isArray(e)?e:null},e}(a))("JsonArray",Array),JsonObject:new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.prototype.init=function(t){this._enhancer=t},e.prototype.toJsonValue=function(t,e){return e&&e.constructor==Object?e:null},e}(a))("JsonObject",Object)}),e.exports=a},{13:13,5:5,50:50}],38:[function(t,e,r){"use strict";var n=t(47),o=function(t){function e(r,n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this,r,n));return o.typeConstructor=null,o}return i.inherits(e,t),i.createClass(e,[{key:"collectionType",get:function(){return n.CollectionType.COLLECTION}}]),e}(n);e.exports=o},{47:47}],39:[function(t,e,r){"use strict";var n=function(){function t(e,r){if(i.classCallCheck(this,t),Object(e)instanceof String){var n={};n[e]=t.ASC,this.keys=[n]}else if(Object(e)instanceof Array)this.keys=e;else{if(!e)throw new Error("The keys parameter must be an String, Object or Array.");this.keys=[e]}this.drop=!1,this.unique=!0===r}return t.prototype.hasKey=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e][t])return!0;return!1},t.prototype.toJSON=function(){return{unique:this.unique,keys:this.keys,drop:this.drop}},i.createClass(t,[{key:"isCompound",get:function(){return this.keys.length>1}},{key:"isUnique",get:function(){return this.unique}}]),t}();Object.assign(n,{ASC:"asc",DESC:"desc",GEO:"geo",fromJSON:function(t){return new n(t.keys,t.unique)}}),e.exports=n},{}],40:[function(t,e,r){"use strict";var n=t(43),o=t(50),s=t(20),a=function(t){function e(r,n){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,r,n))}return i.inherits(e,t),i.createClass(e,[{key:"persistenceType",get:function(){return o.PersistenceType.EMBEDDABLE}}]),e.prototype.createProxyClass=function(){return this._enhancer.createProxy(s.Managed)},e.prototype.createObjectFactory=function(t){return s.ManagedFactory.create(this,t)},e.prototype.toJsonValue=function(e,r,n){return e._root&&r instanceof this.typeConstructor&&!r._metadata._root&&(r._metadata._root=e._root),t.prototype.toJsonValue.call(this,e,r,n)},e.prototype.fromJsonValue=function(e,r,n,i){return r&&(n instanceof this.typeConstructor||(n=this.create()),e._root&&!n._metadata._root&&(n._metadata._root=e._root)),t.prototype.fromJsonValue.call(this,e,r,n,i)},e.prototype.toString=function(){return"EmbeddableType("+this.ref+")"},e}(n);e.exports=a},{20:20,43:43,50:50}],41:[function(t,e,r){"use strict";var n=t(20),o=t(49),s=t(37),a=t(50),u=t(43),c=t(68),h=t(66),f=function(t){function e(r,n,o){i.classCallCheck(this,e);var s=i.possibleConstructorReturn(this,t.call(this,r,o));return s.declaredId=null,s.declaredVersion=null,s.declaredAcl=null,s.superType=n,s.loadPermission=new c,s.updatePermission=new c,s.deletePermission=new c,s.queryPermission=new c,s.schemaSubclassPermission=new c,s.insertPermission=new c,s}return i.inherits(e,t),i.createClass(e,[{key:"persistenceType",get:function(){return a.PersistenceType.ENTITY}},{key:"id",get:function(){return this.declaredId||this.superType.id}},{key:"version",get:function(){return this.declaredVersion||this.superType.version}},{key:"acl",get:function(){return this.declaredAcl||this.superType.acl}}]),e.prototype.createProxyClass=function(){var t=this.superType.typeConstructor;if(t===Object)switch(this.name){case"User":t=n.User;break;case"Role":t=n.Role;break;default:t=n.Entity}return this._enhancer.createProxy(t)},e.prototype.getReferencing=function(t,e){var r=Object.assign({},e),n=t.metamodel.entities,i=new Map,o=Object.keys(n),s=Array.isArray(o),a=0;for(o=s?o:o[Symbol.iterator]();;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var c=u;if(!(r.classes&&r.classes.indexOf(c)<0)){var h=n[c].attributes(),f=Array.isArray(h),l=0;for(h=f?h:h[Symbol.iterator]();;){var p;if(f){if(l>=h.length)break;p=h[l++]}else{if((l=h.next()).done)break;p=l.value}var d=p;if(d.type===this||d.elementType===this){var y=i.get(d.declaringType)||new Set;y.add(d.name),i.set(d.declaringType,y)}}}}return i},e.prototype.createObjectFactory=function(t){switch(this.name){case"User":return n.UserFactory.create(this,t);case"Device":return n.DeviceFactory.create(this,t);case"Object":return}return n.EntityFactory.create(this,t)},e.prototype.fromJsonValue=function(e,r,n,o){if("string"==typeof r)return e.db.getReference(r);if(!r||"object"!==(void 0===r?"undefined":i.typeof(r)))return null;o=Object.assign({persisting:!1,onlyMetadata:!1},o);var s=void 0,a=void 0;if(n){var u=h.get(n);r.id&&u.id&&r.id!==u.id||(s=n,a=u)}return s||(s=e.db.getReference(this.typeConstructor,r.id),a=h.get(s)),a.enable(!1),t.prototype.fromJsonValue.call(this,a,r,s,o),a.enable(!0),o.persisting?a.setPersistent():o.onlyMetadata||a.setDirty(),s},e.prototype.toJsonValue=function(e,r,n){var i=!0===(n=Object.assign({excludeMetadata:!1,depth:0,persisting:!1},n)).depth||n.depth>-1,o=r&&h.get(r);if(i&&o&&o.isAvailable){o.enable(!1);var s=t.prototype.toJsonValue.call(this,o,r,Object.assign({},n,{depth:!0===n.depth||n.depth-1}));return o.enable(!0),s}return r instanceof this.typeConstructor?(r.attach(e.db),r.id):null},e.prototype.toString=function(){return"EntityType("+this.ref+")"},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.acl.schemaSubclass=this.schemaSubclassPermission,e.acl.insert=this.insertPermission,e.acl.update=this.updatePermission,e.acl.delete=this.deletePermission,e.acl.query=this.queryPermission,e},e}(u),l=function(t){function e(){i.classCallCheck(this,e);var r=i.possibleConstructorReturn(this,t.call(this,f.Object.ref,null,Object));return r.declaredId=new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,"id",s.String,!0))}return i.inherits(e,t),e.prototype.getJsonValue=function(t,e,r){return t.id||void 0},e.prototype.setJsonValue=function(t,e,r){this.id||(t.id=r)},e}(o)),r.declaredId.init(r,0),r.declaredId.isId=!0,r.declaredVersion=new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,"version",s.Integer,!0))}return i.inherits(e,t),e.prototype.getJsonValue=function(t,e,r){return t.version||void 0},e.prototype.setJsonValue=function(t,e,r){r&&(t.version=r)},e}(o)),r.declaredVersion.init(r,1),r.declaredVersion.isVersion=!0,r.declaredAcl=new(function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,"acl",s.JsonObject,!0))}return i.inherits(e,t),e.prototype.getJsonValue=function(t,e,r){return t.acl.toJSON()},e.prototype.setJsonValue=function(t,e,r){t.acl.fromJSON(r||{})},e}(o)),r.declaredAcl.init(r,2),r.declaredAcl.isAcl=!0,r.declaredAttributes=[r.declaredId,r.declaredVersion,r.declaredAcl],r}return i.inherits(e,t),i.createClass(e,null,[{key:"ref",get:function(){return"/db/Object"}}]),e}(f);f.Object=l,e.exports=f},{20:20,37:37,43:43,49:49,50:50,66:66,68:68}],42:[function(t,e,r){"use strict";var n=t(47),o=function(t){function e(r,n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this,r,n));return o.typeConstructor=Array,o}return i.inherits(e,t),i.createClass(e,[{key:"collectionType",get:function(){return n.CollectionType.LIST}}],[{key:"ref",get:function(){return"/db/collection.List"}}]),e.prototype.getJsonValue=function(t,e,r){var n=this.getValue(e);if(n instanceof this.typeConstructor){for(var i=n.length,o=new Array(i),s=n.__persistedState__||[],a=!n.__persistedState__||s.length!=i,u=new Array(i),c=0;c<i;++c){var h=n[c];u[c]=this.elementType.toJsonValue(t,h,r),o[c]=h,a|=s[c]!==h}return r.persisting&&Object.defineProperty(n,"__persistedState__",{value:o,configurable:!0}),t.isPersistent&&a&&t.setDirty(),u}return null},e.prototype.setJsonValue=function(t,e,r,n){var i=null;if(r){i=this.getValue(e);var o=r.length;i instanceof this.typeConstructor||(i=new this.typeConstructor(o));var s=new Array(o),a=i.__persistedState__||[];o<i.length&&i.splice(o,i.length-o);for(var u=0;u<o;++u){var c=this.elementType.fromJsonValue(t,r[u],a[u],n);s[u]=i[u]=c}n.persisting&&Object.defineProperty(i,"__persistedState__",{value:s,configurable:!0})}this.setValue(e,i)},e.prototype.toJSON=function(){return Object.assign({},t.prototype.toJSON.call(this),{type:e.ref+"["+this.elementType.ref+"]"})},e}(n);e.exports=o},{47:47}],43:[function(t,e,r){"use strict";var n=t(50),o=t(68),s=t(72),a=t(20),u=function(t){function e(r,n){i.classCallCheck(this,e);var s=i.possibleConstructorReturn(this,t.call(this,0!=r.indexOf("/db/")?"/db/"+r:r,n));return s._enhancer=null,s.declaredAttributes=[],s.schemaAddPermission=new o,s.schemaReplacePermission=new o,s.metadata=null,s}return i.inherits(e,t),i.createClass(e,[{key:"validationCode",get:function(){return this._validationCode},set:function(t){this._validationCode=t?s.compile(this,t):null}},{key:"typeConstructor",get:function(){return this._typeConstructor||(this.typeConstructor=this.createProxyClass()),this._typeConstructor},set:function(t){if(this._typeConstructor)throw new Error("Type constructor has already been set.");var e=t.prototype instanceof a.Entity;if(this.isEntity){if(!e)throw new TypeError("Entity classes must extends the Entity class.")}else if(!(t.prototype instanceof a.Managed)||e)throw new TypeError("Embeddable classes must extends the Managed class.");this._enhancer.enhance(this,t),this._typeConstructor=t}}]),e.prototype.init=function(t){this._enhancer=t,this._typeConstructor&&!this._enhancer.getIdentifier(this._typeConstructor)&&this._enhancer.setIdentifier(this._typeConstructor,this.ref)},e.prototype.createProxyClass=function(){},e.prototype.createObjectFactory=function(t){},e.prototype.create=function(){var t;return t=Object.create(this.typeConstructor.prototype),a.Managed.init(t),t},e.prototype.attributes=function(){var t,e=void 0,r=0,n=this;return this.superType&&(e=this.superType.attributes()),(t={})[Symbol.iterator]=function(){return this},t.next=function(){if(e){var t=e.next();if(!t.done)return t;e=null}return r<n.declaredAttributes.length?{value:n.declaredAttributes[r++],done:!1}:{done:!0}},t},e.prototype.addAttribute=function(t,e){if(this.getAttribute(t.name))throw new Error("An attribute with the name "+t.name+" is already declared.");e=null==t.order?void 0===e?this.declaredAttributes.length:e:t.order,t.init(this,e),this.declaredAttributes.push(t),this._typeConstructor&&"Object"!=this.name&&this._enhancer.enhanceProperty(this._typeConstructor,t)},e.prototype.removeAttribute=function(t){var e=this.declaredAttributes.length;if(this.declaredAttributes=this.declaredAttributes.filter(function(e){return e.name!=t}),e==this.declaredAttributes.length)throw new Error("An Attribute with the name "+t+" is not declared.")},e.prototype.getAttribute=function(t){var e=this.getDeclaredAttribute(t);return!e&&this.superType&&(e=this.superType.getAttribute(t)),e},e.prototype.getDeclaredAttribute=function(t){var e=this.declaredAttributes,r=Array.isArray(e),n=0;for(e=r?e:e[Symbol.iterator]();;){var i;if(r){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i;if(o.name===t||o.order===t)return o}return null},e.prototype.fromJsonValue=function(t,e,r,n){if(e){var i=this.attributes(),o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var u=a;n.onlyMetadata&&!u.isMetadata||u.setJsonValue(t,r,e[u.name],n)}}else r=null;return r},e.prototype.toJsonValue=function(t,e,r){var n=null;if(e instanceof this.typeConstructor){n={};var i=this.attributes(),o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var a;if(o){if(s>=i.length)break;a=i[s++]}else{if((s=i.next()).done)break;a=s.value}var u=a;r.excludeMetadata&&u.isMetadata||(n[u.name]=u.getJsonValue(t,e,r))}}return n},e.prototype.toJSON=function(){var t={};t.class=this.ref,this.superType&&(t.superClass=this.superType.ref),this.isEmbeddable&&(t.embedded=!0),this.metadata&&(t.metadata=this.metadata),t.acl={load:this.loadPermission,schemaAdd:this.schemaAddPermission,schemaReplace:this.schemaReplacePermission};var e=t.fields={},r=this.declaredAttributes,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;s.isMetadata||(e[s.name]=s)}return t},e.prototype.references=function(){var t,e=this.attributes(),r=[];return(t={})[Symbol.iterator]=function(){return this},t.next=function(){var t=e,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var s=o,a=s.isCollection?s.elementType:s.type;if(a.isEntity)return{done:!1,value:{path:[s.name]}};if(a.isEmbeddable){var u=a.references(),c=Array.isArray(u),h=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(h>=u.length)break;f=u[h++]}else{if((h=u.next()).done)break;f=h.value}var l=f;r.push({done:!1,value:{path:[s.name].concat(l.path)}})}}}return r.length?r.pop():{done:!0}},t},e.prototype.hasMetadata=function(t){return this.metadata&&!!this.metadata[t]},e.prototype.getMetadata=function(t){return this.hasMetadata(t)?this.metadata[t]:null},e}(n);e.exports=u},{20:20,50:50,68:68,72:72}],44:[function(t,e,r){"use strict";var n=t(47),o=t(31),s=function(t){function e(r,n,o,s){i.classCallCheck(this,e);var a=i.possibleConstructorReturn(this,t.call(this,r,o,s));return a.keyType=n,a.typeConstructor=Map,a}return i.inherits(e,t),i.createClass(e,[{key:"collectionType",get:function(){return n.CollectionType.MAP}}],[{key:"ref",get:function(){return"/db/collection.Map"}}]),e.prototype.getJsonValue=function(t,e,r){var n=this.getValue(e);if(n instanceof this.typeConstructor){var i={},s=n.__persistedState__||{},a=!n.__persistedState__||n.__persistedSize__!==n.size,u={},c=n.entries(),h=Array.isArray(c),f=0;for(c=h?c:c[Symbol.iterator]();;){var l;if(h){if(f>=c.length)break;l=c[f++]}else{if((f=c.next()).done)break;l=f.value}var p=l;if(null===p[0]||void 0===p[0])throw new o("Map keys can't be null nor undefined.");var d=this.keyType.toJsonValue(t,p[0],r);u[d]=this.elementType.toJsonValue(t,p[1],r),i[d]=[p[0],p[1]],a|=(s[d]||[])[1]!==p[1]}return r.persisting&&Object.defineProperties(n,{__persistedState__:{value:i,configurable:!0},__persistedSize__:{value:n.size,configurable:!0}}),t.isPersistent&&a&&t.setDirty(),u}return null},e.prototype.setJsonValue=function(t,e,r,n){var i=null;if(r){(i=this.getValue(e))instanceof this.typeConstructor||(i=new this.typeConstructor);var o={},s=i.__persistedState__||{};for(var a in i.clear(),r){var u=s[a]||[],c=this.keyType.fromJsonValue(t,a,u[0],n),h=this.elementType.fromJsonValue(t,r[a],u[1],n);o[a]=[c,h],i.set(c,h)}n.persisting&&Object.defineProperties(i,{__persistedState__:{value:o,configurable:!0},__persistedSize__:{value:i.size,configurable:!0}})}this.setValue(e,i)},e.prototype.toJSON=function(){return Object.assign({},t.prototype.toJSON.call(this),{type:e.ref+"["+this.keyType.ref+","+this.elementType.ref+"]"})},e}(n);e.exports=s},{31:31,47:47}],45:[function(t,e,r){"use strict";t(37);var n=t(43),o=t(41),s=t(9),a=t(46),u=t(39),c=t(64),h=t(25).StatusCode,f=t(35),l=function(t){function e(r){i.classCallCheck(this,e);var n=i.possibleConstructorReturn(this,t.call(this));return n.isInitialized=!1,n.entityManagerFactory=r,n.entities=null,n.embeddables=null,n.baseTypes=null,n._enhancer=new s,n}return i.inherits(e,t),e.prototype.init=function(t){if(this.isInitialized)throw new Error("Metamodel is already initialized.");this.fromJSON(t||[]),this.isInitialized=!0},e.prototype._getRef=function(t){var e=void 0;return Object(t)instanceof String?0!=(e=t).indexOf("/db/")&&(e="/db/"+t):e=this._enhancer.getIdentifier(t),e},e.prototype.entity=function(t){var e=this._getRef(t);return e?this.entities[e]:null},e.prototype.baseType=function(t){var e=null;if(Object(t)instanceof String)e=this._getRef(t);else for(var r in this.baseTypes){var n=this.baseTypes[r];if(!n.noResolving&&n.typeConstructor==t){e=r;break}}return e?this.baseTypes[e]:null},e.prototype.embeddable=function(t){var e=this._getRef(t);return e?this.embeddables[e]:null},e.prototype.managedType=function(t){return this.baseType(t)||this.entity(t)||this.embeddable(t)},e.prototype.addType=function(t){var e=void 0;if(t.isBasic?e=this.baseTypes:t.isEmbeddable?(t.init(this._enhancer),e=this.embeddables):t.isEntity&&(t.init(this._enhancer),e=this.entities,null==t.superType&&t.ref!=o.Object.ref&&(t.superType=this.entity(o.Object.ref))),e[t.ref])throw new Error("The type "+t.ref+" is already declared.");return e[t.ref]=t},e.prototype.load=function(){var t=this;if(this.isInitialized)throw new Error("Metamodel is already initialized.");return this.withLock(function(){var e=new f.GetAllSchemas;return t.entityManagerFactory.send(e).then(function(e){return t.init(e.entity),t})})},e.prototype.save=function(t){var e=this;return this._send(t||this.toJSON()).then(function(){return e})},e.prototype.update=function(t){var e=this;return this._send(t).then(function(t){return e.fromJSON(t.entity),e})},e.prototype._send=function(t){var e=this;if(!this.isInitialized)throw new Error("Metamodel is not initialized.");return this.withLock(function(){var r=void 0;return r=t instanceof n?new f.UpdateSchema(t.name,t.toJSON()):new f.UpdateAllSchemas(t),e.entityManagerFactory.send(r)})},e.prototype.toJSON=function(){var t=[];for(var e in this.entities)t.push(this.entities[e]);for(e in this.embeddables)t.push(this.embeddables[e]);return t},e.prototype.fromJSON=function(t){var e=(new a).buildModels(t);for(var r in this.baseTypes={},this.embeddables={},this.entities={},e){var n=e[r];this.addType(n)}},e.prototype.createIndex=function(t,e){e.drop=!1;var r=new f.CreateDropIndex(t,e.toJSON());return this.entityManagerFactory.send(r)},e.prototype.dropIndex=function(t,e){e.drop=!0;var r=new f.CreateDropIndex(t,e.toJSON());return this.entityManagerFactory.send(r)},e.prototype.dropAllIndexes=function(t){var e=new f.DropAllIndexes(t);return this.entityManagerFactory.send(e)},e.prototype.getIndexes=function(t){var e=new f.ListIndexes(t);return this.entityManagerFactory.send(e).then(function(t){return t.entity.map(function(t){return new u(t.keys,t.unique)})},function(t){if(t.status==h.BUCKET_NOT_FOUND||t.status==h.OBJECT_NOT_FOUND)return null;throw t})},e}(c);e.exports=l},{25:25,35:35,37:37,39:39,41:41,43:43,46:46,64:64,9:9}],46:[function(t,e,r){"use strict";var n=t(37),o=t(41),s=t(40),a=t(42),u=t(44),c=t(48),h=t(49),f=t(31),l=function(){function t(){i.classCallCheck(this,t),this.models={},this.modelDescriptors=null;var e=Object.keys(n),r=Array.isArray(e),o=0;for(e=r?e:e[Symbol.iterator]();;){var s;if(r){if(o>=e.length)break;s=e[o++]}else{if((o=e.next()).done)break;s=o.value}var a=n[s];a instanceof n&&(this.models[a.ref]=a)}}return t.prototype.getModel=function(t){return t in this.models?this.models[t]:this.models[t]=this.buildModel(t)},t.prototype.buildModels=function(t){this.modelDescriptors={};for(var e=0,r=void 0;r=t[e];++e)this.modelDescriptors[r.class]=r;for(var n in this.modelDescriptors)try{var i=this.getModel(n);this.buildAttributes(i)}catch(t){throw new f("Can't create model for entity class "+n,t)}return this.getModel(o.Object.ref),this.models},t.prototype.buildModel=function(t){var e=this.modelDescriptors[t],r=void 0;if(t===o.Object.ref)r=new o.Object;else{if(!e)throw new TypeError("No model available for "+t);if(e.embedded)r=new s(t);else{var n=e.superClass||o.Object.ref;r=new o(t,this.getModel(n))}}if(r.metadata={},e){r.metadata=e.metadata||{};var i=e.acl;for(var a in i)r[a+"Permission"].fromJSON(i[a])}return r},t.prototype.buildAttributes=function(t){var e=this.modelDescriptors[t.ref],r=e.fields;for(var n in r){var i=r[n];t.getAttribute(n)||t.addAttribute(this.buildAttribute(i),i.order)}e.validationCode&&(t.validationCode=e.validationCode)},t.prototype.buildAttribute=function(t){var e=t.flags&&(-1!=t.flags.indexOf("METADATA")||-1!=t.flags.indexOf("READONLY")),r=t.name,n=t.type;if(0!==n.indexOf("/db/collection.")){var i=new h(r,this.getModel(n),e);return i.metadata=t.metadata,i}var o=n.substring(0,n.indexOf("[")),s=n.substring(n.indexOf("[")+1,n.indexOf("]")).trim();switch(o){case a.ref:return new a(r,this.getModel(s));case c.ref:return new c(r,this.getModel(s));case u.ref:var f=s.substring(0,s.indexOf(",")).trim();return s=s.substring(s.indexOf(",")+1).trim(),new u(r,this.getModel(f),this.getModel(s));default:throw new TypeError("No collection available for "+n)}},t}();e.exports=l},{31:31,37:37,40:40,41:41,42:42,44:44,48:48,49:49}],47:[function(t,e,r){"use strict";var n=t(36),o=function(t){function e(r,n,o){i.classCallCheck(this,e);var s=i.possibleConstructorReturn(this,t.call(this,r));return s.elementType=n,s.typeConstructor=null,s}return i.inherits(e,t),i.createClass(e,[{key:"persistentAttributeType",get:function(){return n.PersistentAttributeType.ELEMENT_COLLECTION}}]),e}(n);o.CollectionType={COLLECTION:0,LIST:1,MAP:2,SET:3},e.exports=o},{36:36}],48:[function(t,e,r){"use strict";var n=t(47),o=function(t){function e(r,n,o){i.classCallCheck(this,e);var s=i.possibleConstructorReturn(this,t.call(this,r,n,o));return s.typeConstructor=Set,s}return i.inherits(e,t),i.createClass(e,[{key:"collectionType",get:function(){return n.CollectionType.SET}}],[{key:"ref",get:function(){return"/db/collection.Set"}}]),e.prototype.getJsonValue=function(t,e,r){var n=this.getValue(e);if(n instanceof this.typeConstructor){var i={},o=n.__persistedState__||{},s=!n.__persistedState__||n.__persistedSize__!==n.size,a=[],u=n,c=Array.isArray(u),h=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(h>=u.length)break;f=u[h++]}else{if((h=u.next()).done)break;f=h.value}var l=f,p=this.elementType.toJsonValue(t,l,r);a.push(p),i[p]=l,s|=o[p]!==l}return r.persisting&&Object.defineProperties(n,{__persistedState__:{value:i,configurable:!0},__persistedSize__:{value:n.size,configurable:!0}}),t.isPersistent&&s&&t.setDirty(),a}return null},e.prototype.setJsonValue=function(t,e,r,n){var i=null;if(r){(i=this.getValue(e))instanceof this.typeConstructor||(i=new this.typeConstructor);var o={},s=i.__persistedState__||{};i.clear();for(var a=0,u=r.length;a<u;++a){var c=r[a],h=c&&c.id?c.id:c,f=this.elementType.fromJsonValue(t,c,s[h],n);i.add(f),o[h]=f}n.persisting&&Object.defineProperties(i,{__persistedState__:{value:o,configurable:!0},__persistedSize__:{value:i.size,configurable:!0}})}this.setValue(e,i)},e.prototype.toJSON=function(){return Object.assign({},t.prototype.toJSON.call(this),{type:e.ref+"["+this.elementType.ref+"]"})},e}(n);e.exports=o},{47:47}],49:[function(t,e,r){"use strict";var n=t(36),o=t(50),s=function(t){function e(r,n,o){i.classCallCheck(this,e);var s=i.possibleConstructorReturn(this,t.call(this,r,o));return s.type=n,s}return i.inherits(e,t),i.createClass(e,[{key:"typeConstructor",get:function(){return this.type.typeConstructor}},{key:"persistentAttributeType",get:function(){switch(this.type.persistenceType){case o.PersistenceType.BASIC:return n.PersistentAttributeType.BASIC;case o.PersistenceType.EMBEDDABLE:return n.PersistentAttributeType.EMBEDDED;case o.PersistenceType.ENTITY:return n.PersistentAttributeType.ONE_TO_MANY}}}]),e.prototype.getJsonValue=function(t,e,r){return this.type.toJsonValue(t,this.getValue(e),r)},e.prototype.setJsonValue=function(t,e,r,n){this.setValue(e,this.type.fromJsonValue(t,r,this.getValue(e),n))},e.prototype.toJSON=function(){return Object.assign({},t.prototype.toJSON.call(this),{type:this.type.ref})},e}(n);e.exports=s},{36:36,50:50}],50:[function(t,e,r){"use strict";var n=function(){function t(e,r){if(i.classCallCheck(this,t),0!=e.indexOf("/db/"))throw new SyntaxError("Type ref "+e+" is invalid.");this.ref=e,this.name=e.substring(4),this._typeConstructor=r}return i.createClass(t,[{key:"persistenceType",get:function(){return-1}},{key:"isBasic",get:function(){return this.persistenceType==t.PersistenceType.BASIC}},{key:"isEmbeddable",get:function(){return this.persistenceType==t.PersistenceType.EMBEDDABLE}},{key:"isEntity",get:function(){return this.persistenceType==t.PersistenceType.ENTITY}},{key:"isMappedSuperclass",get:function(){return this.persistenceType==t.PersistenceType.MAPPED_SUPERCLASS}},{key:"typeConstructor",get:function(){return this._typeConstructor},set:function(t){if(this._typeConstructor)throw new Error("typeConstructor has already been set.");this._typeConstructor=t}}]),t.prototype.fromJsonValue=function(t,e,r,n){},t.prototype.toJsonValue=function(t,e,r){},t}();n.PersistenceType={BASIC:0,EMBEDDABLE:1,ENTITY:2,MAPPED_SUPERCLASS:3},e.exports=n},{}],51:[function(t,e,r){"use strict";var n=t(45);n.prototype.Attribute=t(36),n.prototype.BasicType=t(37),n.prototype.CollectionAttribute=t(38),n.prototype.EmbeddableType=t(40),n.prototype.EntityType=t(41),n.prototype.ListAttribute=t(42),n.prototype.ManagedType=t(43),n.prototype.MapAttribute=t(44),n.prototype.Metamodel=t(45),n.prototype.ModelBuilder=t(46),n.prototype.PluralAttribute=t(47),n.prototype.SetAttribute=t(48),n.prototype.SingularAttribute=t(49),n.prototype.Type=t(50),n.prototype.DbIndex=t(39),e.exports=new n},{36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50}],52:[function(t,e,r){"use strict";var n=t(53),o=t(66),s=t(35),a=function(t){function e(r,n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this,n));return o._entity=r,o}return i.inherits(e,t),e.prototype.execute=function(){var t=this,e=o.get(this._entity),r=JSON.stringify(this),n=new s.UpdatePartially(e.bucket,e.key,r);return e.withLock(function(){return e.db.send(n).then(function(r){return e.setJson(r.entity,!0),t._entity})})},e}(n);e.exports=a},{35:35,53:53,66:66}],53:[function(t,e,r){"use strict";var n=["$add","$and","$currentDate","$dec","$inc","$max","$min","$mul","$or","$pop","$push","$put","$remove","$rename","$replace","$set","$shift","$unshift","$xor"],o=t(54),s=function(){function t(e){i.classCallCheck(this,t),this._operations=[],e&&this._addOperations(e)}return t.prototype.set=function(t,e){if(e instanceof Set)e=Array.from(e);else if(e instanceof Map){var r={};e.forEach(function(t,e){r[e]=t}),e=r}return this._addOperation(t,"$set",e)},t.prototype.inc=function(t,e){return this._addOperation(t,"$inc","number"==typeof e?e:1)},t.prototype.dec=function(t,e){return this.increment(t,"number"==typeof e?-e:-1)},t.prototype.mul=function(t,e){if("number"!=typeof e)throw new Error("Multiplicator must be a number.");return this._addOperation(t,"$mul",e)},t.prototype.div=function(t,e){if("number"!=typeof e)throw new Error("Divisor must be a number.");return this._addOperation(t,"$mul",1/e)},t.prototype.min=function(t,e){if("number"!=typeof e)throw new Error("Value must be a number");return this._addOperation(t,"$min",e)},t.prototype.max=function(t,e){if("number"!=typeof e)throw new Error("Value must be a number");return this._addOperation(t,"$max",e)},t.prototype.remove=function(t,e){return this._addOperation(t,"$remove",e)},t.prototype.put=function(t,e,r){var n={};return"string"==typeof e||"number"==typeof e?n[e]=r:"object"===(void 0===e?"undefined":i.typeof(e))&&Object.assign(n,e),this._addOperation(t,"$put",n)},t.prototype.push=function(t,e){return this._addOperation(t,"$push",e)},t.prototype.unshift=function(t,e){return this._addOperation(t,"$unshift",e)},t.prototype.pop=function(t){return this._addOperation(t,"$pop")},t.prototype.shift=function(t){return this._addOperation(t,"$shift")},t.prototype.add=function(t,e){return this._addOperation(t,"$add",e)},t.prototype.replace=function(t,e,r){if(this._hasOperationOnPath(t))throw new Error("You cannot update "+t+" multiple times");return this._addOperation(t+"."+e,"$replace",r)},t.prototype.currentDate=function(t){return this._addOperation(t,"$currentDate")},t.prototype.and=function(t,e){return this._addOperation(t,"$and",e)},t.prototype.or=function(t,e){return this._addOperation(t,"$or",e)},t.prototype.xor=function(t,e){return this._addOperation(t,"$xor",e)},t.prototype.rename=function(t,e){return this._addOperation(t,"$rename",e)},t.prototype.toJSON=function(){return this._operations.reduce(function(t,e){var r={};return r[e.path]=e.value,t[e.name]=Object.assign({},t[e.name],r),t},{})},t.prototype.execute=function(){throw new Error('Cannot call "execute" on abstract PartialUpdateBuilder')},t.prototype._addOperation=function(t,e,r){if("string"!=typeof t)throw new Error("Path must be a string");if(-1===n.indexOf(e))throw new Error("Operation invalid: "+e);if(this._hasOperationOnPath(t))throw new Error("You cannot update "+t+" multiple times");if("number"==typeof r){if(isNaN(r))throw new Error("NaN is not a supported value");if(!isFinite(r))throw new Error("Infinity is not a supported value")}var i=new o(e,t,void 0===r?null:r);return this._operations.push(i),this},t.prototype._addOperations=function(t){var e=this;Object.keys(t).forEach(function(r){var n=t[r];Object.keys(n).forEach(function(t){var i=n[t];e._operations.push(new o(r,t,i))})})},t.prototype._hasOperationOnPath=function(t){return this._operations.some(function(e){return e.path===t})},t}();Object.assign(s.prototype,{increment:s.prototype.inc,decrement:s.prototype.dec,multiply:s.prototype.mul,divide:s.prototype.div,atMost:s.prototype.min,atLeast:s.prototype.max,toNow:s.prototype.currentDate}),e.exports=s},{54:54}],54:[function(t,e,r){"use strict";e.exports=function t(e,r,n){i.classCallCheck(this,t),this.name=e,this.path=r,this.value=n}},{}],55:[function(t,e,r){"use strict";r.EntityPartialUpdateBuilder=t(52),r.PartialUpdateBuilder=t(53)},{52:52,53:53}],56:[function(t,e,r){"use strict";var n=t(58),o=t(57),s=t(60),a=t(61),u=a.varargs,c=function(t){function e(r,n){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.call(this,r,n))}return i.inherits(e,t),e.prototype.and=function(t){return this._addOperator("$and",u(0,arguments))},e.prototype.or=function(t){return this._addOperator("$or",u(0,arguments))},e.prototype.nor=function(t){return this._addOperator("$nor",u(0,arguments))},e.prototype.eventStream=function(t,e,r,n){return this.where({}).eventStream(t,e,r,n)},e.prototype.resultStream=function(t,e,r,n){return this.where({}).resultStream(t,e,r,n)},e.prototype.resultList=function(t,e,r){return this.where({}).resultList(t,e,r)},e.prototype.singleResult=function(t,e,r){return this.where({}).singleResult(t,e,r)},e.prototype.count=function(t,e){return this.where({}).count(t,e)},e.prototype._addOperator=function(t,e){if(e.length<2)throw new Error("Only two or more queries can be joined with an "+t+" operator.");return e.forEach(function(t,e){if(!(t instanceof a))throw new Error("Argument at index "+e+" is not a query.")}),new s(this.entityManager,this.resultClass,t,e)},e.prototype._addOrder=function(t,e){return new n(this.entityManager,this.resultClass)._addOrder(t,e)},e.prototype._addFilter=function(t,e,r){return new n(this.entityManager,this.resultClass)._addFilter(t,e,r)},e.prototype._addOffset=function(t){return new n(this.entityManager,this.resultClass)._addOffset(t)},e.prototype._addLimit=function(t){return new n(this.entityManager,this.resultClass)._addLimit(t)},e}(a);Object.assign(c.prototype,o),e.exports=c},{57:57,58:58,60:60,61:61}],57:[function(t,e,r){"use strict";var n=t(61).varargs,i={};Object.assign(i,{where:function(t){return this._addFilter(null,null,t)},equal:function(t,e){return this._addFilter(t,null,e)},notEqual:function(t,e){return this._addFilter(t,"$ne",e)},greaterThan:function(t,e){return this._addFilter(t,"$gt",e)},greaterThanOrEqualTo:function(t,e){return this._addFilter(t,"$gte",e)},lessThan:function(t,e){return this._addFilter(t,"$lt",e)},lessThanOrEqualTo:function(t,e){return this._addFilter(t,"$lte",e)},between:function(t,e,r){return this._addFilter(t,"$gt",e)._addFilter(t,"$lt",r)},in:function(t,e){return this._addFilter(t,"$in",n(1,arguments))},notIn:function(t,e){return this._addFilter(t,"$nin",n(1,arguments))},isNull:function(t){return this.equal(t,null)},isNotNull:function(t){return this._addFilter(t,"$exists",!0)._addFilter(t,"$ne",null)},containsAll:function(t,e){return this._addFilter(t,"$all",n(1,arguments))},mod:function(t,e,r){return this._addFilter(t,"$mod",[e,r])},matches:function(t,e){if(Object(e)instanceof RegExp||(e=new RegExp(e)),e.ignoreCase)throw new Error("RegExp.ignoreCase flag is not supported.");if(e.global)throw new Error("RegExp.global flag is not supported.");if(0!=e.source.indexOf("^"))throw new Error("regExp must be an anchored expression, i.e. it must be started with a ^.");var r=this._addFilter(t,"$regex",e.source);return e.multiline&&r._addFilter(t,"$options","m"),r},size:function(t,e){return this._addFilter(t,"$size",e)},near:function(t,e,r){return this._addFilter(t,"$nearSphere",{$geometry:{type:"Point",coordinates:[e.longitude,e.latitude]},$maxDistance:r})},withinPolygon:function(t,e){return e=n(1,arguments),this._addFilter(t,"$geoWithin",{$geometry:{type:"Polygon",coordinates:[e.map(function(t){return[t.longitude,t.latitude]})]}})}}),Object.assign(i,{eq:i.equal,ne:i.notEqual,lt:i.lessThan,le:i.lessThanOrEqualTo,gt:i.greaterThan,ge:i.greaterThanOrEqualTo,containsAny:i.in}),e.exports=i},{61:61}],58:[function(t,e,r){"use strict";var n=t(59),o=t(57),s=function(t){function e(r,n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this,r,n));return o._filter={},o}return i.inherits(e,t),e.prototype._addFilter=function(t,e,r){if(null!==t){if(!(Object(t)instanceof String))throw new Error("Field must be a string.");if(e){var n=this._filter[t];n instanceof Object&&Object.getPrototypeOf(n)==Object.prototype||(this._filter[t]=n={}),n[e]=r}else this._filter[t]=r}else Object.assign(this._filter,r);return this},e.prototype.toJSON=function(){return this._filter},e}(n);Object.assign(s.prototype,o),e.exports=s},{57:57,59:59}],59:[function(t,e,r){"use strict";var n=t(61),o=t(35),s=t(66),a=t(10),u=function(t){function e(r,n){i.classCallCheck(this,e);var o=i.possibleConstructorReturn(this,t.call(this,r,n));return o.firstResult=0,o.maxResults=-1,o._sort={},o}return i.inherits(e,t),e.prototype.eventStream=function(){throw new Error("Streaming features not available! Please use Streaming SDK!")},e.prototype.resultStream=function(){throw new Error("Streaming features not available! Please use Streaming SDK!")},e.prototype.resultList=function(t,e,r){var i=this;t instanceof Function&&(r=e,e=t,t={});var s=this.resultClass?this.entityManager.metamodel.entity(this.resultClass):null;if(!s)throw new Error("Only typed queries can be executed.");var a=this._serializeQuery(),u=this._serializeSort(),c=void 0;return c=this.entityManager._connector.host.length+a.length+u.length>n.MAX_URI_SIZE?new o.AdhocQueryPOST(s.name,this.firstResult,this.maxResults,u).entity(a,"text"):new o.AdhocQuery(s.name,a,this.firstResult,this.maxResults,u),this.entityManager.send(c).then(function(e){return i._createResultList(e.entity,t)}).then(e,r)},e.prototype.singleResult=function(t,e,r){var i=this;t instanceof Function&&(r=e,e=t,t={});var s=this.resultClass?this.entityManager.metamodel.entity(this.resultClass):null;if(!s)throw new Error("Only typed queries can be executed.");var a=this._serializeQuery(),u=this._serializeSort(),c=void 0;return c=this.entityManager._connector.host.length+a.length>n.MAX_URI_SIZE?new o.AdhocQueryPOST(s.name,a,this.firstResult,1,u).entity(a,"text"):new o.AdhocQuery(s.name,a,this.firstResult,1,u),this.entityManager.send(c).then(function(e){return i._createResultList(e.entity,t)}).then(function(t){return t.length?t[0]:null}).then(e,r)},e.prototype.count=function(t,e){var r=this.resultClass?this.entityManager.metamodel.entity(this.resultClass):null;if(!r)throw new Error("Only typed queries can be executed.");var i=this._serializeQuery(),s=void 0;return s=this.entityManager._connector.host.length+i.length>n.MAX_URI_SIZE?new o.AdhocCountQueryPOST(r.name).entity(i,"text"):new o.AdhocCountQuery(r.name,i),this.entityManager.send(s).then(function(t){return t.entity.count}).then(t,e)},e.prototype._serializeQuery=function(){return JSON.stringify(this,function(t,e){var r=this[t];return Object(r)instanceof Date?{$date:e}:r instanceof a?r.id:e})},e.prototype._serializeSort=function(){return JSON.stringify(this._sort)},e.prototype._createResultList=function(t,e){return t.length?Promise.all(t.map(function(t){if(t.id){var r=this.entityManager.getReference(this.resultClass,t.id);return s.get(r).setJson(t,{persisting:!0}),this.entityManager.resolveDepth(r,e)}return this.entityManager.load(Object.keys(t)[0])},this)).then(function(t){return t.filter(function(t){return!!t})}):Promise.resolve([])},e.prototype._addOrder=function(t,e){return e?this._sort[t]=e:this._sort=t,this},e.prototype._addOffset=function(t){return this.firstResult=t,this},e.prototype._addLimit=function(t){return this.maxResults=t,this},e}(n);e.exports=u},{10:10,35:35,61:61,66:66}],60:[function(t,e,r){"use strict";var n=function(t){function e(r,n,o,s){i.classCallCheck(this,e);var a=i.possibleConstructorReturn(this,t.call(this,r,n));return a._operator=o,a._childs=s,a}return i.inherits(e,t),e.prototype.toJSON=function(){var t={};return t[this._operator]=this._childs,t},e}(t(59));e.exports=n},{59:59}],61:[function(t,e,r){"use strict";var n=function(){function t(e,r){i.classCallCheck(this,t),this.entityManager=e,this.resultClass=r}return t.prototype.ascending=function(t){return this._addOrder(t,1)},t.prototype.descending=function(t){return this._addOrder(t,-1)},t.prototype.sort=function(t){if(!(t instanceof Object)||Object.getPrototypeOf(t)!=Object.prototype)throw new Error("sort must be an object.");return this._addOrder(t)},t.prototype.offset=function(t){if(t<0)throw new Error("The offset can't be nagative.");return this._addOffset(t)},t.prototype.limit=function(t){if(t<0)throw new Error("The limit can't be nagative.");return this._addLimit(t)},t.prototype.resultList=function(t,e,r){},t.prototype.singleResult=function(t,e,r){},t.prototype.eventStream=function(t){},t.prototype.resultStream=function(t){},t.prototype.count=function(t,e){},t}();n.MAX_URI_SIZE=2e3,n.varargs=function(t,e){return Array.prototype.concat.apply([],Array.prototype.slice.call(e,t))},e.exports=n},{}],62:[function(t,e,r){"use strict";r.Builder=t(56),r.Condition=t(57),r.Filter=t(58),r.Node=t(59),r.Operator=t(60),r.Query=t(61)},{56:56,57:57,58:58,59:59,60:60,61:61}],63:[function(t,e,r){"use strict";var n=t(35),o=t(25).StatusCode,s=function(){function t(e,r){i.classCallCheck(this,t),this._metamodel=e,this.entityManagerFactory=r}return t.prototype.functionToString=function(t){if(!t)return"";var e=t.toString();return"\n"==(e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))).charAt(0)&&(e=e.substring(1)),"\n"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},t.prototype.stringToFunction=function(t,e){return new Function(t,e)},t.prototype.loadModules=function(){var t=new n.GetAllModules;return this.entityManagerFactory.send(t).then(function(t){return t.entity})},t.prototype.loadCode=function(t,e,r){var i=this,s=Object(t)instanceof String?t:t.name,a=new n.GetBaqendCode(s,e).responseType("text");return this.entityManagerFactory.send(a).then(function(t){return i._parseCode(s,e,r,t.entity)},function(t){if(t.status==o.OBJECT_NOT_FOUND)return null;throw t})},t.prototype.saveCode=function(t,e,r){var i=this,o=Object(t)instanceof String?t:t.name,s=r instanceof Function,a=new n.SetBaqendCode(o,e).entity(s?this.functionToString(r):r,"text").responseType("text");return this.entityManagerFactory.send(a).then(function(t){return i._parseCode(o,e,s,t.entity)})},t.prototype.deleteCode=function(t,e){var r=this,i=Object(t)instanceof String?t:t.name,o=new n.DeleteBaqendCode(i,e);return this.entityManagerFactory.send(o).then(function(){return r._parseCode(i,e,!1,null)})},t.prototype._parseCode=function(t,e,r,n){if("validate"==e){var i=this._metamodel.entity(t);return i.validationCode=n,r?i.validationCode:n}return r?this.stringToFunction(["module","exports"],n):n},t}();e.exports=s},{25:25,35:35}],64:[function(t,e,r){"use strict";var n=function(){function t(){i.classCallCheck(this,t),this._isLocked=!1,this._readyPromise=Promise.resolve(this),this._deferred=null}return t.prototype.ready=function(t,e){return this._readyPromise.then(t,e)},t.prototype.withLock=function(t,e){var r=this;if(this._isLocked)throw new Error("Current operation has not been finished.");try{this._isLocked=!0;var n=t().then(function(t){return r._isLocked=!1,t},function(t){throw e||(r._isLocked=!1),t});return this._readyPromise=n.then(function(){return r},function(t){if(!e)return r;throw t}),n}catch(t){throw e?this._readyPromise=Promise.reject(t):this._isLocked=!1,t}},i.createClass(t,[{key:"isReady",get:function(){return!this._isLocked}}]),t}();e.exports=n},{}],65:[function(t,e,r){"use strict";var n=t(35),o=(t(25).StatusCode,function(){function t(){i.classCallCheck(this,t)}return t.create=function(t){var e=this.prototype;function r(){e.log.apply(r,arguments)}var n=Object.getOwnPropertyNames(e),i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(e,a))}return r._init(t),r},t.prototype.log=function(e,r,n){var o=Array.prototype.slice.call(arguments);if(e=-1==t.LEVELS.indexOf(o[0])?"info":o.shift(),!(this.levelIndex>t.LEVELS.indexOf(e)))return r="string"==typeof o[0]?this._format(o.shift(),o):"[no message]",n=null,o.length&&"object"===i.typeof(o[o.length-1])&&(n=o.pop(),Array.isArray(n)&&(n={data:n})),o.length&&(r+=", "+o.join(", ")),this._log({date:new Date,message:r,level:e,user:this.entityManager.me&&this.entityManager.me.id,data:n})},t.prototype._format=function(e,r){return 0==r.length?e:String(e).replace(t.FORMAT_REGEXP,function(t){if("%%"===t)return"%";if(!r.length)return t;switch(t){case"%s":return String(r.shift());case"%d":return Number(r.shift());case"%j":try{return JSON.stringify(r.shift())}catch(t){return"[Circular]"}default:return t}})},t.prototype._init=function(e){var r=this;this.entityManager=e,this.levelIndex=2,t.LEVELS.forEach(function(t){r[t]=r.log.bind(r,t)})},t.prototype._log=function(t){return this.entityManager.isReady?this.entityManager.send(new n.CreateObject("logs.AppLog",t)):this.entityManager.ready(this._log.bind(this,t))},i.createClass(t,[{key:"level",get:function(){return t.LEVELS[this.levelIndex]},set:function(e){var r=t.LEVELS.indexOf(e);if(-1==r)throw new Error("Unknown logging level "+e);this.levelIndex=r}}]),t}());Object.assign(o,{LEVELS:["trace","debug","info","warn","error"],FORMAT_REGEXP:/%[sdj%]/g}),e.exports=o},{25:25,35:35}],66:[function(t,e,r){"use strict";var n=t(33),o=t(1),s=t(64),a=(t(20),function(e){function r(t,n){i.classCallCheck(this,r);var s=i.possibleConstructorReturn(this,e.call(this));return s._root=t,s._state=r.Type.DIRTY,s._enabled=!0,s.id=null,s.version=null,s.type=n,s.acl=new o(s),s}return i.inherits(r,e),r.create=function(t,e){var n=void 0;if(t.isEntity)n=new r(e,t);else{if(!t.isEmbeddable)throw new Error("Illegal type "+t);n={type:t,readAccess:function(){var t=this._root&&this._root._metadata;t&&t.readAccess()},writeAccess:function(){var t=this._root&&this._root._metadata;t&&t.writeAccess()}}}return n},r.get=function(t){return t._metadata},i.createClass(r,[{key:"db",get:function(){return this._db?this._db:this._db=t(6)},set:function(t){if(this._db)throw new Error("DB has already been set.");this._db=t}},{key:"bucket",get:function(){return this.type.name}},{key:"key",get:function(){if(!this._key&&this.id){var t=this.id.lastIndexOf("/");this._key=decodeURIComponent(this.id.substring(t+1))}return this._key},set:function(t){if(t+="",this.id)throw new Error("The id can't be set twice.");this.id="/db/"+this.bucket+"/"+encodeURIComponent(t),this._key=t}},{key:"isAttached",get:function(){return!!this._db}},{key:"isAvailable",get:function(){return this._state>r.Type.UNAVAILABLE}},{key:"isPersistent",get:function(){return this._state==r.Type.PERSISTENT}},{key:"isDirty",get:function(){return this._state==r.Type.DIRTY}}]),r.prototype.enable=function(t){this._enabled=t},r.prototype.readAccess=function(){if(this._enabled&&!this.isAvailable)throw new n.PersistentError("This object "+this.id+" is not available.")},r.prototype.writeAccess=function(){if(this._enabled){if(!this.isAvailable)throw new n.PersistentError("This object "+this.id+" is not available.");this.setDirty()}},r.prototype.setUnavailable=function(){this._state=r.Type.UNAVAILABLE},r.prototype.setPersistent=function(){this._state=r.Type.PERSISTENT},r.prototype.setDirty=function(){this._state=r.Type.DIRTY},r.prototype.setRemoved=function(){this.isAvailable&&(this.setDirty(),this.version=null)},r.prototype.getJson=function(t){return this.type.toJsonValue(this,this._root,t)},r.prototype.setJson=function(t,e){this.type.fromJsonValue(this,t,this._root,e)},r}(s));a.Type={UNAVAILABLE:-1,PERSISTENT:0,DIRTY:1},e.exports=a},{1:1,20:20,33:33,6:6,64:64}],67:[function(t,e,r){"use strict";var n=t(35),o=function(){function t(e,r){i.classCallCheck(this,t),this._entityManager=e,this._connector=r}return t.prototype.get=function(t,e,r,i,o){e instanceof Function&&(o=r,i=e,r={},e=null),r instanceof Function&&(o=i,i=r,r={}),r=r||{};var s=new n.GetBaqendModule(t).addQueryString(e).responseType(r.responseType||null);return this._send(s,i,o)},t.prototype.post=function(t,e,r,i,o){r instanceof Function&&(o=i,i=r,r={}),r=r||{};var s=new n.PostBaqendModule(t).entity(e,r.requestType).mimeType(r.mimeType||null).responseType(r.responseType||null);return this._send(s,i,o)},t.prototype._send=function(t,e,r){return this._entityManager.send(t).then(function(t){return t.entity}).then(e,r)},t}();e.exports=o},{35:35}],68:[function(t,e,r){"use strict";var n=function(){function t(e){i.classCallCheck(this,t),this._rules={},this._metadata=e}return t.prototype.allRules=function(){return Object.keys(this._rules)},t.prototype.clear=function(){this._metadata&&this._metadata.writeAccess(),this._rules={}},t.prototype.copy=function(t){return this._metadata&&this._metadata.writeAccess(),this._rules=Object.assign({},t._rules),this},t.prototype.isPublicAllowed=function(){if("*"in this._rules)return!1;for(var t in this._rules)if("allow"==this._rules[t])return!1;return!0},t.prototype.setPublicAllowed=function(){for(var t in this._metadata&&this._metadata.writeAccess(),this._rules)"allow"==this._rules[t]&&delete this._rules[t]},t.prototype.getRule=function(t){return this._rules[this._getRef(t)]},t.prototype.isAllowed=function(t){return"allow"==this._rules[this._getRef(t)]},t.prototype.isDenied=function(t){return"deny"==this._rules[this._getRef(t)]},t.prototype.allowAccess=function(t){var e=arguments;this._metadata&&this._metadata.writeAccess();for(var r=0;r<e.length;r++)this._rules[this._getRef(e[r])]="allow";return this},t.prototype.denyAccess=function(t){var e=arguments;this._metadata&&this._metadata.writeAccess();for(var r=0;r<e.length;r++)this._rules[this._getRef(e[r])]="deny";return this},t.prototype.deleteAccess=function(t){var e=arguments;this._metadata&&this._metadata.writeAccess();for(var r=0;r<e.length;r++)delete this._rules[this._getRef(e[r])];return this},t.prototype.toJSON=function(){return Object.assign({},this._rules)},t.prototype.fromJSON=function(t){this._rules=t},t.fromJSON=function(t){var e=new this;return e.fromJSON(t),e},t.prototype._getRef=function(t){if("string"!=typeof t&&(t=t._metadata.id),0==t.indexOf("/db/User/")||0==t.indexOf("/db/Role/"))return t;throw new TypeError("The given object isn't a user, role or a valid reference.")},t}();n.BASE_PERMISSIONS=["load","update","delete","query","insert"],e.exports=n},{}],69:[function(t,e,r){"use strict";var n=t(10),o=function(){function t(e,r,o,s,a,u){if(i.classCallCheck(this,t),this.devices=null,e instanceof Set)this.devices=e;else if(!e||e[Symbol.iterator])this.devices=new Set(e);else{if(!(e instanceof n))throw new Error("Only Sets, Lists and Arrays can be used as devices.");this.devices=new Set,this.devices.add(e)}this.message=r,this.subject=o,this.sound=s,this.badge=a,this.data=u}return t.prototype.addDevice=function(t){this.devices||(this.devices=new Set),this.devices.add(t)},t.prototype.toJSON=function(){if(!this.devices||!this.devices.size)throw new Error("Set of devices is empty.");return Object.assign({},this,{devices:Array.from(this.devices,function(t){return t.id})})},t}();e.exports=o},{10:10}],70:[function(t,e,r){"use strict";var n=t(74).hmac,o=function(){function t(e,r,n){i.classCallCheck(this,t),this._token=r?t.parse(r):null,this._origin=e,this.temporary=n}return t.parse=function(t){return{val:t,createdAt:1e3*parseInt(t.substring(0,8),16),expireAt:1e3*parseInt(t.substring(8,16),16),sig:t.substring(t.length-40),data:t.substring(0,t.length-40)}},t.create=function(e){return Promise.resolve(new t(e))},i.createClass(t,[{key:"token",get:function(){return this._token?this._token.val:null}}]),t.prototype._saveToken=function(t,e,r){},t.prototype.update=function(e){var r=e?t.parse(e):null;this._token&&r&&this._token.expireAt>r.expireAt||(this._token=r,this._saveToken(this._origin,e,this.temporary))},t.prototype.signPath=function(t){if(this._token){var e=t.split("/").map(encodeURIComponent).join("/");return e+"?BAT="+(this._token.data+n(e+this._token.data,this._token.sig))}return t},t}(),s={},a=function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.create=function(t){return Promise.resolve(new e(t,s[t]))},e.prototype._saveToken=function(t,e,r){r||(e?s[t]=e:delete s[t])},e}(o);o.GLOBAL=a;var u=function(t){function e(){return i.classCallCheck(this,e),i.possibleConstructorReturn(this,t.apply(this,arguments))}return i.inherits(e,t),e.isAvailable=function(){try{return"undefined"!=typeof localStorage&&(localStorage.setItem("bq_webstorage_test","bq"),localStorage.removeItem("bq_webstorage_test"),!0)}catch(t){}return!1},e.create=function(t){var r=!1,n=localStorage.getItem("BAT:"+t);return n||"undefined"==typeof sessionStorage||(r=!!(n=sessionStorage.getItem("BAT:"+t))),Promise.resolve(new e(t,n,r))},e.prototype._saveToken=function(t,e,r){var n=r?sessionStorage:localStorage;e?n.setItem("BAT:"+t,e):n.removeItem("BAT:"+t)},e}(o);u.isAvailable()&&(o.WEB_STORAGE=u),e.exports=o},{74:74}],71:[function(t,e,r){"use strict";var n=function(){function t(){i.classCallCheck(this,t),this.fields={}}return i.createClass(t,[{key:"isValid",get:function(){for(var t in this.fields)if(!this.fields[t].isValid)return!1;return!0}}]),t.prototype.toJSON=function(){var t={};for(var e in this.fields)t[e]=this.fields[e].toJSON();return t},t}();e.exports=n},{}],72:[function(t,e,r){"use strict";var n=t(172),o=(t(71),function(){function t(e,r){i.classCallCheck(this,t),this.key=e,this._entity=r,this.errors=[]}return t.compile=function(t,e){var r=[],n=t.attributes(),i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var a=s;r.push(a.name)}var u=new Function(r,e);return function(t){var e=r.map(function(e){return t[e]});return u.apply({},e)}},t.prototype.is=function(t,e){return t instanceof Function&&(e=t,t="is"),!1===e(this.value,n)&&this.errors.push(t),this},i.createClass(t,[{key:"value",get:function(){return this._entity[this.key]}},{key:"isValid",get:function(){return 0==this.errors.length}}]),t.prototype._callMethod=function(t,e,r){return(r=r||[]).unshift(this.value),!1===n[t].apply(this,r)&&this.errors.push(e),this},t.prototype.toString=function(){return this.value},t.prototype.toJSON=function(){return{isValid:this.isValid,errors:this.errors}},t}());Object.keys(n).forEach(function(t){"function"==typeof n[t]&&"toString"!==t&&"toDate"!==t&&"extend"!==t&&"init"!==t&&(o.prototype[t]=function(e){return this._callMethod(t,e||t,Array.prototype.slice.call(arguments,e?1:0))})}),e.exports=o},{172:172,71:71}],73:[function(t,e,r){"use strict";r.atob=atob},{}],74:[function(t,e,r){"use strict";r.hmac=t(165)},{165:165}],75:[function(t,e,r){"use strict";r.isNode=t(76).isNode,r.atob=t(73).atob,r.hmac=t(74).hmac,r.Metadata=t(66),r.Permission=t(68),r.Validator=t(72),r.ValidationResult=t(71),r.Code=t(63),r.Modules=t(67),r.Lockable=t(64),r.Logger=t(65),r.PushMessage=t(69),r.TokenStorage=t(70),r.uuid=t(77).uuid},{63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,76:76,77:77}],76:[function(t,e,r){"use strict";r.isNode=!1},{}],77:[function(t,e,r){"use strict";r.uuid=t(171)},{171:171}],78:[function(t,e,r){"use strict"},{}],79:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],80:[function(t,e,r){var n=t(154)("unscopables"),i=Array.prototype;void 0==i[n]&&t(101)(i,n,{}),e.exports=function(t){i[n][t]=!0}},{101:101,154:154}],81:[function(t,e,r){e.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},{}],82:[function(t,e,r){var n=t(109);e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{109:109}],83:[function(t,e,r){var n=t(146),i=t(147),o=t(144);e.exports=function(t){return function(e,r,s){var a,u=n(e),c=i(u.length),h=o(s,c);if(t&&r!=r){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===r)return t||h||0;return!t&&-1}}},{144:144,146:146,147:147}],84:[function(t,e,r){var n=t(85),i=t(154)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},{154:154,85:85}],85:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],86:[function(t,e,r){"use strict";var n=t(122).f,i=t(121),o=t(135),s=t(90),a=t(81),u=t(98),c=t(112),h=t(114),f=t(138),l=t(92),p=t(117).fastKey,d=t(151),y=l?"_s":"size",g=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};e.exports={getConstructor:function(t,e,r,c){var h=t(function(t,n){a(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=n&&u(n,r,t[c],t)});return o(h.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var r=d(this,e),n=g(r,t);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[y]--}return!!n},forEach:function(t){d(this,e);for(var r,n=s(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(d(this,e),t)}}),l&&n(h.prototype,"size",{get:function(){return d(this,e)[y]}}),h},def:function(t,e,r){var n,i,o=g(t,e);return o?o.v=r:(t._l=o={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,r){c(t,e,function(t,r){this._t=d(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},r?"entries":"values",!r,!0),f(e)}}},{112:112,114:114,117:117,121:121,122:122,135:135,138:138,151:151,81:81,90:90,92:92,98:98}],87:[function(t,e,r){"use strict";var n=t(99),i=t(96),o=t(136),s=t(135),a=t(117),u=t(98),c=t(81),h=t(109),f=t(97),l=t(113),p=t(139),d=t(104);e.exports=function(t,e,r,y,g,v){var m=n[t],b=m,_=g?"set":"add",w=b&&b.prototype,O={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(v&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(v||w.forEach&&!f(function(){(new b).entries().next()}))){var A=new b,T=A[_](v?{}:-0,1)!=A,S=f(function(){A.has(1)}),C=l(function(t){new b(t)}),k=!v&&f(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});C||((b=e(function(e,r){c(e,b,t);var n=d(new m,e,b);return void 0!=r&&u(r,g,n[_],n),n})).prototype=w,w.constructor=b),(S||k)&&(E("delete"),E("has"),g&&E("get")),(k||T)&&E(_),v&&w.clear&&delete w.clear}else b=y.getConstructor(e,t,g,_),s(b.prototype,r),a.NEED=!0;return p(b,t),O[t]=b,i(i.G+i.W+i.F*(b!=m),O),v||y.setStrong(b,t,g),b}},{104:104,109:109,113:113,117:117,135:135,136:136,139:139,81:81,96:96,97:97,98:98,99:99}],88:[function(t,e,r){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},{}],89:[function(t,e,r){"use strict";var n=t(122),i=t(134);e.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},{122:122,134:134}],90:[function(t,e,r){var n=t(79);e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},{79:79}],91:[function(t,e,r){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],92:[function(t,e,r){e.exports=!t(97)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{97:97}],93:[function(t,e,r){var n=t(109),i=t(99).document,o=n(i)&&n(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{109:109,99:99}],94:[function(t,e,r){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],95:[function(t,e,r){var n=t(130),i=t(127),o=t(131);e.exports=function(t){var e=n(t),r=i.f;if(r)for(var s,a=r(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},{127:127,130:130,131:131}],96:[function(t,e,r){var n=t(99),i=t(88),o=t(101),s=t(136),a=t(90),u=function(t,e,r){var c,h,f,l,p=t&u.F,d=t&u.G,y=t&u.S,g=t&u.P,v=t&u.B,m=d?n:y?n[e]||(n[e]={}):(n[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});for(c in d&&(r=e),r)f=((h=!p&&m&&void 0!==m[c])?m:r)[c],l=v&&h?a(f,n):g&&"function"==typeof f?a(Function.call,f):f,m&&s(m,c,f,t&u.U),b[c]!=f&&o(b,c,l),g&&_[c]!=f&&(_[c]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{101:101,136:136,88:88,90:90,99:99}],97:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],98:[function(t,e,r){var n=t(90),i=t(110),o=t(107),s=t(82),a=t(147),u=t(155),c={},h={};(r=e.exports=function(t,e,r,f,l){var p,d,y,g,v=l?function(){return t}:u(t),m=n(r,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=a(t.length);p>b;b++)if((g=e?m(s(d=t[b])[0],d[1]):m(t[b]))===c||g===h)return g}else for(y=v.call(t);!(d=y.next()).done;)if((g=i(y,m,d.value,e))===c||g===h)return g}).BREAK=c,r.RETURN=h},{107:107,110:110,147:147,155:155,82:82,90:90}],99:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],100:[function(t,e,r){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],101:[function(t,e,r){var n=t(122),i=t(134);e.exports=t(92)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},{122:122,134:134,92:92}],102:[function(t,e,r){var n=t(99).document;e.exports=n&&n.documentElement},{99:99}],103:[function(t,e,r){e.exports=!t(92)&&!t(97)(function(){return 7!=Object.defineProperty(t(93)("div"),"a",{get:function(){return 7}}).a})},{92:92,93:93,97:97}],104:[function(t,e,r){var n=t(109),i=t(137).set;e.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},{109:109,137:137}],105:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],106:[function(t,e,r){var n=t(85);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{85:85}],107:[function(t,e,r){var n=t(115),i=t(154)("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},{115:115,154:154}],108:[function(t,e,r){var n=t(85);e.exports=Array.isArray||function(t){return"Array"==n(t)}},{85:85}],109:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],110:[function(t,e,r){var n=t(82);e.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},{82:82}],111:[function(t,e,r){"use strict";var n=t(121),i=t(134),o=t(139),s={};t(101)(s,t(154)("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},{101:101,121:121,134:134,139:139,154:154}],112:[function(t,e,r){"use strict";var n=t(116),i=t(96),o=t(136),s=t(101),a=t(100),u=t(115),c=t(111),h=t(139),f=t(128),l=t(154)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(t,e,r,y,g,v,m){c(r,e,y);var b,_,w,O=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=e+" Iterator",A="values"==g,T=!1,S=t.prototype,C=S[l]||S["@@iterator"]||g&&S[g],k=!p&&C||O(g),x=g?A?O("entries"):k:void 0,P="Array"==e&&S.entries||C;if(P&&(w=f(P.call(new t)))!==Object.prototype&&w.next&&(h(w,E,!0),n||a(w,l)||s(w,l,d)),A&&C&&"values"!==C.name&&(T=!0,k=function(){return C.call(this)}),n&&!m||!p&&!T&&S[l]||s(S,l,k),u[e]=k,u[E]=d,g)if(b={values:A?k:O("values"),keys:v?k:O("keys"),entries:x},m)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||T),e,b);return b}},{100:100,101:101,111:111,115:115,116:116,128:128,136:136,139:139,154:154,96:96}],113:[function(t,e,r){var n=t(154)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},{154:154}],114:[function(t,e,r){e.exports=function(t,e){return{value:e,done:!!t}}},{}],115:[function(t,e,r){e.exports={}},{}],116:[function(t,e,r){e.exports=!1},{}],117:[function(t,e,r){var n=t(150)("meta"),i=t(109),o=t(100),s=t(122).f,a=0,u=Object.isExtensible||function(){return!0},c=!t(97)(function(){return u(Object.preventExtensions({}))}),h=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[n].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,n)&&h(t),t}}},{100:100,109:109,122:122,150:150,97:97}],118:[function(t,e,r){var n=t(99),i=t(143).set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==t(85)(s);e.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=s.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var h=a.resolve();r=function(){h.then(c)}}else r=function(){i.call(n,c)};else{var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),r=function(){l.data=f=!f}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},{143:143,85:85,99:99}],119:[function(t,e,r){"use strict";var n=t(79);e.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}(t)}},{79:79}],120:[function(t,e,r){"use strict";var n=t(130),i=t(127),o=t(131),s=t(148),a=t(106),u=Object.assign;e.exports=!u||t(97)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,c=1,h=i.f,f=o.f;u>c;)for(var l,p=a(arguments[c++]),d=h?n(p).concat(h(p)):n(p),y=d.length,g=0;y>g;)f.call(p,l=d[g++])&&(r[l]=p[l]);return r}:u},{106:106,127:127,130:130,131:131,148:148,97:97}],121:[function(t,e,r){var n=t(82),i=t(123),o=t(94),s=t(140)("IE_PROTO"),a=function(){},u=function(){var e,r=t(93)("iframe"),n=o.length;for(r.style.display="none",t(102).appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},{102:102,123:123,140:140,82:82,93:93,94:94}],122:[function(t,e,r){var n=t(82),i=t(103),o=t(149),s=Object.defineProperty;r.f=t(92)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{103:103,149:149,82:82,92:92}],123:[function(t,e,r){var n=t(122),i=t(82),o=t(130);e.exports=t(92)?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),a=s.length,u=0;a>u;)n.f(t,r=s[u++],e[r]);return t}},{122:122,130:130,82:82,92:92}],124:[function(t,e,r){var n=t(131),i=t(134),o=t(146),s=t(149),a=t(100),u=t(103),c=Object.getOwnPropertyDescriptor;r.f=t(92)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!n.f.call(t,e),t[e])}},{100:100,103:103,131:131,134:134,146:146,149:149,92:92}],125:[function(t,e,r){var n=t(146),i=t(126).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(n(t))}},{126:126,146:146}],126:[function(t,e,r){var n=t(129),i=t(94).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},{129:129,94:94}],127:[function(t,e,r){r.f=Object.getOwnPropertySymbols},{}],128:[function(t,e,r){var n=t(100),i=t(148),o=t(140)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{100:100,140:140,148:148}],129:[function(t,e,r){var n=t(100),i=t(146),o=t(83)(!1),s=t(140)("IE_PROTO");e.exports=function(t,e){var r,a=i(t),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~o(c,r)||c.push(r));return c}},{100:100,140:140,146:146,83:83}],130:[function(t,e,r){var n=t(129),i=t(94);e.exports=Object.keys||function(t){return n(t,i)}},{129:129,94:94}],131:[function(t,e,r){r.f={}.propertyIsEnumerable},{}],132:[function(t,e,r){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],133:[function(t,e,r){var n=t(82),i=t(109),o=t(119);e.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},{109:109,119:119,82:82}],134:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],135:[function(t,e,r){var n=t(136);e.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},{136:136}],136:[function(t,e,r){var n=t(99),i=t(101),o=t(100),s=t(150)("src"),a=Function.toString,u=(""+a).split("toString");t(88).inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,r,a){var c="function"==typeof r;c&&(o(r,"name")||i(r,"name",e)),t[e]!==r&&(c&&(o(r,s)||i(r,s,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:a?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},{100:100,101:101,150:150,88:88,99:99}],137:[function(t,e,r){var n=t(109),i=t(82),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t(90)(Function.call,t(124).f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function(t,e){return o(t,e),r?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:o}},{109:109,124:124,82:82,90:90}],138:[function(t,e,r){"use strict";var n=t(99),i=t(122),o=t(92),s=t(154)("species");e.exports=function(t){var e=n[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},{122:122,154:154,92:92,99:99}],139:[function(t,e,r){var n=t(122).f,i=t(100),o=t(154)("toStringTag");e.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},{100:100,122:122,154:154}],140:[function(t,e,r){var n=t(141)("keys"),i=t(150);e.exports=function(t){return n[t]||(n[t]=i(t))}},{141:141,150:150}],141:[function(t,e,r){var n=t(99),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(t){return i[t]||(i[t]={})}},{99:99}],142:[function(t,e,r){var n=t(82),i=t(79),o=t(154)("species");e.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||void 0==(r=n(s)[o])?e:i(r)}},{154:154,79:79,82:82}],143:[function(t,e,r){var n,i,o,s=t(90),a=t(105),u=t(102),c=t(93),h=t(99),f=h.process,l=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,y=h.Dispatch,g=0,v={},m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){m.call(t.data)};l&&p||(l=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},n(g),g},p=function(t){delete v[t]},"process"==t(85)(f)?n=function(t){f.nextTick(s(m,t,1))}:y&&y.now?n=function(t){y.now(s(m,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),e.exports={set:l,clear:p}},{102:102,105:105,85:85,90:90,93:93,99:99}],144:[function(t,e,r){var n=t(145),i=Math.max,o=Math.min;e.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},{145:145}],145:[function(t,e,r){var n=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},{}],146:[function(t,e,r){var n=t(106),i=t(91);e.exports=function(t){return n(i(t))}},{106:106,91:91}],147:[function(t,e,r){var n=t(145),i=Math.min;e.exports=function(t){return t>0?i(n(t),9007199254740991):0}},{145:145}],148:[function(t,e,r){var n=t(91);e.exports=function(t){return Object(n(t))}},{91:91}],149:[function(t,e,r){var n=t(109);e.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{109:109}],150:[function(t,e,r){var n=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},{}],151:[function(t,e,r){var n=t(109);e.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{109:109}],152:[function(t,e,r){var n=t(99),i=t(88),o=t(116),s=t(153),a=t(122).f;e.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{116:116,122:122,153:153,88:88,99:99}],153:[function(t,e,r){r.f=t(154)},{154:154}],154:[function(t,e,r){var n=t(141)("wks"),i=t(150),o=t(99).Symbol,s="function"==typeof o;(e.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},{141:141,150:150,99:99}],155:[function(t,e,r){var n=t(84),i=t(154)("iterator"),o=t(115);e.exports=t(88).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},{115:115,154:154,84:84,88:88}],156:[function(t,e,r){"use strict";var n=t(90),i=t(96),o=t(148),s=t(110),a=t(107),u=t(147),c=t(89),h=t(155);i(i.S+i.F*!t(113)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,f,l=o(t),p="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,v=0,m=h(l);if(g&&(y=n(y,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&a(m))for(r=new p(e=u(l.length));e>v;v++)c(r,v,g?y(l[v],v):l[v]);else for(f=m.call(l),r=new p;!(i=f.next()).done;v++)c(r,v,g?s(f,y,[i.value,v],!0):i.value);return r.length=v,r}})},{107:107,110:110,113:113,147:147,148:148,155:155,89:89,90:90,96:96}],157:[function(t,e,r){"use strict";var n=t(80),i=t(114),o=t(115),s=t(146);e.exports=t(112)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{112:112,114:114,115:115,146:146,80:80}],158:[function(t,e,r){"use strict";var n=t(86),i=t(151);e.exports=t(87)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},{151:151,86:86,87:87}],159:[function(t,e,r){var n=t(96);n(n.S+n.F,"Object",{assign:t(120)})},{120:120,96:96}],160:[function(t,e,r){var n=t(96);n(n.S,"Object",{setPrototypeOf:t(137).set})},{137:137,96:96}],161:[function(t,e,r){"use strict";var n,i,o,s,a=t(116),u=t(99),c=t(90),h=t(84),f=t(96),l=t(109),p=t(79),d=t(81),y=t(98),g=t(142),v=t(143).set,m=t(118)(),b=t(119),_=t(132),w=t(133),O=u.TypeError,E=u.process,A=u.Promise,T="process"==h(E),S=function(){},C=i=b.f,k=!!function(){try{var e=A.resolve(1),r=(e.constructor={})[t(154)("species")]=function(t){t(S,S)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof r}catch(t){}}(),x=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var n=t._v,i=1==t._s,o=0,s=function(e){var r,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&M(t),t._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===e.promise?u(O("Promise-chain cycle")):(o=x(r))?o.call(r,a,u):a(r)):u(n)}catch(t){u(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,r,n,i=t._v,o=F(t);if(o&&(e=_(function(){T?E.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=T||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){v.call(u,function(){var e;T?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},I=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(e=x(t))?m(function(){var n={_w:r,_d:!1};try{e.call(t,c(I,n,1),c(D,n,1))}catch(t){D.call(n,t)}}):(r._v=t,r._s=1,P(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};k||(A=function(t){d(this,A,"Promise","_h"),p(t),n.call(this);try{t(c(I,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(135)(A.prototype,{then:function(t,e){var r=C(g(this,A));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=T?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&P(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=c(I,t,1),this.reject=c(D,t,1)},b.f=C=function(t){return t===A||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!k,{Promise:A}),t(139)(A,"Promise"),t(138)("Promise"),s=t(88).Promise,f(f.S+f.F*!k,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!k),"Promise",{resolve:function(t){return w(a&&this===s?A:this,t)}}),f(f.S+f.F*!(k&&t(113)(function(t){A.all(t).catch(S)})),"Promise",{all:function(t){var e=this,r=C(e),n=r.resolve,i=r.reject,o=_(function(){var r=[],o=0,s=1;y(t,!1,function(t){var a=o++,u=!1;r.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,r[a]=t,--s||n(r))},i)}),--s||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=C(e),n=r.reject,i=_(function(){y(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},{109:109,113:113,116:116,118:118,119:119,132:132,133:133,135:135,138:138,139:139,142:142,143:143,154:154,79:79,81:81,84:84,88:88,90:90,96:96,98:98,99:99}],162:[function(t,e,r){"use strict";var n=t(86),i=t(151);e.exports=t(87)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},{151:151,86:86,87:87}],163:[function(t,e,r){"use strict";var n=t(99),i=t(100),o=t(92),s=t(96),a=t(136),u=t(117).KEY,c=t(97),h=t(141),f=t(139),l=t(150),p=t(154),d=t(153),y=t(152),g=t(95),v=t(108),m=t(82),b=t(109),_=t(146),w=t(149),O=t(134),E=t(121),A=t(125),T=t(124),S=t(122),C=t(130),k=T.f,x=S.f,P=A.f,R=n.Symbol,F=n.JSON,M=F&&F.stringify,D=p("_hidden"),I=p("toPrimitive"),j={}.propertyIsEnumerable,N=h("symbol-registry"),B=h("symbols"),L=h("op-symbols"),U=Object.prototype,J="function"==typeof R,q=n.QObject,$=!q||!q.prototype||!q.prototype.findChild,V=o&&c(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=k(U,e);n&&delete U[e],x(t,e,r),n&&t!==U&&x(U,e,n)}:x,G=function(t){var e=B[t]=E(R.prototype);return e._k=t,e},z=J&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},Y=function(t,e,r){return t===U&&Y(L,e,r),m(t),e=w(e,!0),m(r),i(B,e)?(r.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),r=E(r,{enumerable:O(0,!1)})):(i(t,D)||x(t,D,O(1,{})),t[D][e]=!0),V(t,e,r)):x(t,e,r)},H=function(t,e){m(t);for(var r,n=g(e=_(e)),i=0,o=n.length;o>i;)Y(t,r=n[i++],e[r]);return t},W=function(t){var e=j.call(this,t=w(t,!0));return!(this===U&&i(B,t)&&!i(L,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==U||!i(B,e)||i(L,e)){var r=k(t,e);return!r||!i(B,e)||i(t,D)&&t[D][e]||(r.enumerable=!0),r}},Z=function(t){for(var e,r=P(_(t)),n=[],o=0;r.length>o;)i(B,e=r[o++])||e==D||e==u||n.push(e);return n},K=function(t){for(var e,r=t===U,n=P(r?L:_(t)),o=[],s=0;n.length>s;)!i(B,e=n[s++])||r&&!i(U,e)||o.push(B[e]);return o};J||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===U&&e.call(L,r),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),V(this,t,O(1,r))};return o&&$&&V(U,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),T.f=Q,S.f=Y,t(126).f=A.f=Z,t(131).f=W,t(127).f=K,o&&!t(116)&&a(U,"propertyIsEnumerable",W,!0),d.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!J,{Symbol:R});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)p(X[tt++]);for(var et=C(p.store),rt=0;et.length>rt;)y(et[rt++]);s(s.S+s.F*!J,"Symbol",{for:function(t){return i(N,t+="")?N[t]:N[t]=R(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),s(s.S+s.F*!J,"Object",{create:function(t,e){return void 0===e?E(t):H(E(t),e)},defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:K}),F&&s(s.S+s.F*(!J||c(function(){var t=R();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(b(e)||void 0!==t)&&!z(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!z(e))return e}),n[1]=e,M.apply(F,n)}}),R.prototype[I]||t(101)(R.prototype,I,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},{100:100,101:101,108:108,109:109,116:116,117:117,121:121,122:122,124:124,125:125,126:126,127:127,130:130,131:131,134:134,136:136,139:139,141:141,146:146,149:149,150:150,152:152,153:153,154:154,82:82,92:92,95:95,96:96,97:97,99:99}],164:[function(t,e,r){var n,i;n=this,i=function(){var t=t||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],i=function(e){e=e;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(r||t.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new s.init(r,e/2)}},c=a.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new s.init(r,e)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,c=t.min(4*u,i);if(u){for(var h=0;h<u;h+=o)this._doProcessBlock(n,h);var f=n.splice(0,u);r.sigBytes-=c}return new s.init(f,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new l.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math);return t},"object"==typeof r?e.exports=r=i():n.CryptoJS=i()},{}],165:[function(t,e,r){var n,i;n=this,i=function(t){return t.HmacSHA1},"object"==typeof r?e.exports=r=i(t(164),t(167),t(166)):i(n.CryptoJS)},{164:164,166:166,167:167}],166:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n;r=(e=t).lib.Base,n=e.enc.Utf8,e.algo.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var r=t.blockSize,i=4*r;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,u=s.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?e.exports=r=i(t(164)):i(n.CryptoJS)},{164:164}],167:[function(t,e,r){var n,i;n=this,i=function(t){var e,r,n,i,o,s;return r=(e=t).lib,n=r.WordArray,i=r.Hasher,o=[],s=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],u=r[4],c=0;c<80;c++){if(c<16)o[c]=0|t[e+c];else{var h=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=h<<1|h>>>31}var f=(n<<5|n>>>27)+u+o[c];f+=c<20?1518500249+(i&s|~i&a):c<40?1859775393+(i^s^a):c<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,u=a,a=s,s=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s),t.SHA1},"object"==typeof r?e.exports=r=i(t(164)):i(n.CryptoJS)},{164:164}],168:[function(t,e,r){
/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}e.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=n,e.property=i,e}},{}],169:[function(t,e,r){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(t,e){var r=e||0,i=n;return i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]}},{}],170:[function(t,e,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var o=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},{}],171:[function(t,e,r){var n=t(170),i=t(169);e.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},{169:169,170:170}],172:[function(t,e,n){
/*!
 * Copyright (c) 2015 Chris O'Hara <cohara87@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t,r){void 0!==n&&void 0!==e?e.exports=r():this.validator=r()}(0,function(n){"use strict";n={version:"4.9.0",coerce:!0};for(var i,o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,a=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,u=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,c=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,h=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,f=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,l=/^(?:[0-9]{9}X|[0-9]{10})$/,p=/^(?:[0-9]{13})$/,d=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,y=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,g=/^[0-9A-F]{1,4}$/i,v={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},m={"en-US":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"es-ES":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[--]+$/i},b={"en-US":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9--]+$/i},_=["AU","GB","HK","IN","NZ","ZA","ZM"],w=0;w<_.length;w++)m[i="en-"+_[w]]=m["en-US"],b[i]=b["en-US"];var O=/^[-+]?[0-9]+$/,E=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,A=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,T=/^[0-9A-F]+$/i,S=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,C=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,k=/^[\x00-\x7F]+$/,x=/[^\x00-\x7F]/,P=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,R=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,F=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,M=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,D={"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?((13\d|14[57]|15[^4,\D]|17[678]|18\d)\d{8}|170[059]\d{7})$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/},I=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;n.extend=function(t,e){n[t]=function(){var t=Array.prototype.slice.call(arguments);return t[0]=n.toString(t[0]),e.apply(n,t)}},n.init=function(){for(var t in n)"function"==typeof n[t]&&"toString"!==t&&"toDate"!==t&&"extend"!==t&&"init"!==t&&"isServerSide"!==t&&n.extend(t,n[t])},n.isServerSide=function(){return"object"==typeof e&&e&&"object"==typeof e.exports&&"object"==typeof r&&"function"==typeof t};var j=null;n.deprecation=function(e){if(null===j){if(!n.isServerSide())return;j=t(168)("validator")}j(e)},n.toString=function(t){if("string"!=typeof t){if(!n.coerce)throw new Error("this library validates strings only");n.deprecation("you tried to validate a "+typeof t+" but this library (validator.js) validates strings only. Please update your code as this will be an error soon.")}return"object"==typeof t&&null!==t?t="function"==typeof t.toString?t.toString():"[object Object]":(null===t||void 0===t||isNaN(t)&&!t.length)&&(t=""),""+t},n.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},n.toFloat=function(t){return parseFloat(t)},n.toInt=function(t,e){return parseInt(t,e||10)},n.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},n.equals=function(t,e){return t===n.toString(e)},n.contains=function(t,e){return t.indexOf(n.toString(e))>=0},n.matches=function(t,e,r){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,r)),e.test(t)};var N={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0};n.isEmail=function(t,e){if((e=q(e,N)).allow_display_name){var r=t.match(c);r&&(t=r[1])}var i=t.split("@"),h=i.pop(),f=i.join("@"),l=h.toLowerCase();if("gmail.com"!==l&&"googlemail.com"!==l||(f=f.replace(/\./g,"").toLowerCase()),!n.isByteLength(f,{max:64})||!n.isByteLength(h,{max:256}))return!1;if(!n.isFQDN(h,{require_tld:e.require_tld}))return!1;if('"'===f[0])return f=f.slice(1,f.length-1),e.allow_utf8_local_part?u.test(f):s.test(f);for(var p=e.allow_utf8_local_part?a:o,d=f.split("."),y=0;y<d.length;y++)if(!p.test(d[y]))return!1;return!0};var B={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};n.isURL=function(t,e){if(!t||t.length>=2083||/\s/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;var r,i,o,s,a,u;if(e=q(e,B),(u=t.split("://")).length>1){if(r=u.shift(),e.require_valid_protocol&&-1===e.protocols.indexOf(r))return!1}else{if(e.require_protocol)return!1;e.allow_protocol_relative_urls&&"//"===t.substr(0,2)&&(u[0]=t.substr(2))}return!((u=(t=(u=(t=(u=(t=(u=(t=u.join("://")).split("#")).shift()).split("?")).shift()).split("/")).shift()).split("@")).length>1&&(i=u.shift()).indexOf(":")>=0&&i.split(":").length>2||(o=(u=u.join("@").split(":")).shift(),u.length&&(a=u.join(":"),s=parseInt(a,10),!/^[0-9]+$/.test(a)||s<=0||s>65535)||!n.isIP(o)&&!n.isFQDN(o,e)&&"localhost"!==o||e.host_whitelist&&-1===e.host_whitelist.indexOf(o)||e.host_blacklist&&-1!==e.host_blacklist.indexOf(o)))},n.isMACAddress=function(t){return d.test(t)},n.isIP=function(t,e){if(!(e=e?e+"":""))return n.isIP(t,4)||n.isIP(t,6);if("4"===e)return!!y.test(t)&&t.split(".").sort(function(t,e){return t-e})[3]<=255;if("6"===e){var r=t.split(":"),i=!1,o=n.isIP(r[r.length-1],4),s=o?7:8;if(r.length>s)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(r.shift(),r.shift(),i=!0):"::"===t.substr(t.length-2)&&(r.pop(),r.pop(),i=!0);for(var a=0;a<r.length;++a)if(""===r[a]&&a>0&&a<r.length-1){if(i)return!1;i=!0}else if(o&&a==r.length-1);else if(!g.test(r[a]))return!1;return i?r.length>=1:r.length===s}return!1};var L={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};n.isFQDN=function(t,e){(e=q(e,L)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var r=t.split(".");if(e.require_tld){var n=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n))return!1}for(var i,o=0;o<r.length;o++){if(i=r[o],e.allow_underscores){if(i.indexOf("__")>=0)return!1;i=i.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(i))return!1;if(/[\uff01-\uff5e]/.test(i))return!1;if("-"===i[0]||"-"===i[i.length-1])return!1}return!0},n.isBoolean=function(t){return["true","false","1","0"].indexOf(t)>=0},n.isAlpha=function(t,e){if((e=e||"en-US")in m)return m[e].test(t);throw new Error("Invalid locale '"+e+"'")},n.isAlphanumeric=function(t,e){if((e=e||"en-US")in b)return b[e].test(t);throw new Error("Invalid locale '"+e+"'")},n.isNumeric=function(t){return O.test(t)},n.isDecimal=function(t){return""!==t&&S.test(t)},n.isHexadecimal=function(t){return T.test(t)},n.isHexColor=function(t){return C.test(t)},n.isLowercase=function(t){return t===t.toLowerCase()},n.isUppercase=function(t){return t===t.toUpperCase()},n.isInt=function(t,e){return e=e||{},E.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},n.isFloat=function(t,e){return e=e||{},""!==t&&"."!==t&&A.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},n.isDivisibleBy=function(t,e){return n.toFloat(t)%parseInt(e,10)==0},n.isNull=function(t){return 0===t.length},n.isLength=function(t,e){var r,n;"object"==typeof e?(r=e.min||0,n=e.max):(r=arguments[1],n=arguments[2]);var i=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],o=t.length-i.length;return o>=r&&(void 0===n||o<=n)},n.isByteLength=function(t,e){var r,n;"object"==typeof e?(r=e.min||0,n=e.max):(r=arguments[1],n=arguments[2]);var i=encodeURI(t).split(/%..|./).length-1;return i>=r&&(void 0===n||i<=n)},n.isUUID=function(t,e){var r=v[e||"all"];return r&&r.test(t)},n.isDate=function(t){var e=new Date(Date.parse(t));if(isNaN(e))return!1;var r=function(t){var e,r,n,i,o=t.match(I);if(o){if(!(e=o[21]))return o[12]?null:0;if("z"===e||"Z"===e)return 0;r=o[22],-1!==e.indexOf(":")?(n=parseInt(o[23]),i=parseInt(o[24])):(n=0,i=parseInt(o[23]))}else{if(!(e=(t=t.toLowerCase()).match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/)))return-1!==t.indexOf("gmt")?0:null;r=e[1];var s=e[2];3===s.length&&(s="0"+s),s.length<=2?(n=0,i=parseInt(s)):(n=parseInt(s.slice(0,2)),i=parseInt(s.slice(2,4)))}return(60*n+i)*("-"===r?1:-1)}(t);if(null!==r){var n=e.getTimezoneOffset()-r;e=new Date(e.getTime()+6e4*n)}var i,o,s,a=String(e.getDate());return!(o=t.match(/(^|[^:\d])[23]\d([^:\d]|$)/g))||(i=o.map(function(t){return t.match(/\d+/g)[0]}).join("/"),s=String(e.getFullYear()).slice(-2),i===a||i===s||i===a+"/"+s||i===s+"/"+a)},n.isAfter=function(t,e){var r=n.toDate(e||new Date),i=n.toDate(t);return!!(i&&r&&i>r)},n.isBefore=function(t,e){var r=n.toDate(e||new Date),i=n.toDate(t);return!!(i&&r&&i<r)},n.isIn=function(t,e){var r;if("[object Array]"===Object.prototype.toString.call(e)){var i=[];for(r in e)i[r]=n.toString(e[r]);return i.indexOf(t)>=0}return"object"==typeof e?e.hasOwnProperty(t):!(!e||"function"!=typeof e.indexOf)&&e.indexOf(t)>=0},n.isWhitelisted=function(t,e){for(var r=t.length-1;r>=0;r--)if(-1===e.indexOf(t[r]))return!1;return!0},n.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!h.test(e))return!1;for(var r,n,i,o=0,s=e.length-1;s>=0;s--)r=e.substring(s,s+1),n=parseInt(r,10),o+=i&&(n*=2)>=10?n%10+1:n,i=!i;return!(o%10!=0||!e)},n.isISIN=function(t){if(!f.test(t))return!1;for(var e,r,n=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),i=0,o=!0,s=n.length-2;s>=0;s--)e=n.substring(s,s+1),r=parseInt(e,10),i+=o&&(r*=2)>=10?r+1:r,o=!o;return parseInt(t.substr(t.length-1),10)===(1e4-i)%10},n.isISBN=function(t,e){if(!(e=e?e+"":""))return n.isISBN(t,10)||n.isISBN(t,13);var r,i=t.replace(/[\s-]+/g,""),o=0;if("10"===e){if(!l.test(i))return!1;for(r=0;r<9;r++)o+=(r+1)*i.charAt(r);if("X"===i.charAt(9)?o+=100:o+=10*i.charAt(9),o%11==0)return!!i}else if("13"===e){if(!p.test(i))return!1;var s=[1,3];for(r=0;r<12;r++)o+=s[r%2]*i.charAt(r);if(i.charAt(12)-(10-o%10)%10==0)return!!i}return!1},n.isMobilePhone=function(t,e){return e in D&&D[e].test(t)};var U={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};n.isCurrency=function(t,e){return function(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),r="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",n="("+["0","[1-9]\\d*",r].join("|")+")?",i="(\\"+t.decimal_separator+"\\d{2})?",o=n+i;return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?o+="-?":t.negative_sign_before_digits&&(o="-?"+o)),t.allow_negative_sign_placeholder?o="( (?!\\-))?"+o:t.allow_space_after_symbol?o=" ?"+o:t.allow_space_after_digits&&(o+="( (?!$))?"),t.symbol_after_digits?o+=e:o=e+o,t.allow_negatives&&(t.parens_for_negatives?o="(\\("+o+"\\)|"+o+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(o="-?"+o)),new RegExp("^(?!-? )(?=.*\\d)"+o+"$")}(e=q(e,U)).test(t)},n.isJSON=function(t){try{var e=JSON.parse(t);return!!e&&"object"==typeof e}catch(t){}return!1},n.isMultibyte=function(t){return x.test(t)},n.isAscii=function(t){return k.test(t)},n.isFullWidth=function(t){return P.test(t)},n.isHalfWidth=function(t){return R.test(t)},n.isVariableWidth=function(t){return P.test(t)&&R.test(t)},n.isSurrogatePair=function(t){return F.test(t)},n.isBase64=function(t){return M.test(t)},n.isMongoId=function(t){return n.isHexadecimal(t)&&24===t.length},n.isISO8601=function(t){return I.test(t)},n.ltrim=function(t,e){var r=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(r,"")},n.rtrim=function(t,e){var r=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(r,"")},n.trim=function(t,e){var r=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(r,"")},n.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},n.stripLow=function(t,e){var r=e?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return n.blacklist(t,r)},n.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},n.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var J={lowercase:!0,remove_dots:!0,remove_extension:!0};function q(t,e){for(var r in t=t||{},e)void 0===t[r]&&(t[r]=e[r]);return t}return n.normalizeEmail=function(t,e){if(e=q(e,J),!n.isEmail(t))return!1;var r=t.split("@",2);if(r[1]=r[1].toLowerCase(),"gmail.com"===r[1]||"googlemail.com"===r[1]){if(e.remove_extension&&(r[0]=r[0].split("+")[0]),e.remove_dots&&(r[0]=r[0].replace(/\./g,"")),!r[0].length)return!1;r[0]=r[0].toLowerCase(),r[1]="gmail.com"}else e.lowercase&&(r[0]=r[0].toLowerCase());return r.join("@")},n.init(),n})},{168:168}],173:[function(t,e,r){"use strict";t(162),t(158),Object.assign||t(159),Object.setPrototypeOf||t(160),"undefined"==typeof Promise&&t(161),Array.from||(t(156),t(157)),"undefined"==typeof Symbol&&t(163)},{156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163}]},{},[34])(34))}).call(this,r(7).Buffer,r(2))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],h=!1,f=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=a(l);h=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,f=r?i-1:0,l=r?-1:1,p=t[e+f];for(f+=l,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+f],f+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+f],f+=l,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,f=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?l/u:l*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},function(t,e,r){"use strict";e.byteLength=function(t){return 3*t.length/4-c(t)},e.toByteArray=function(t){var e,r,n,s,a,u=t.length;s=c(t),a=new o(3*u/4-s),r=s>0?u-4:u;var h=0;for(e=0;e<r;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[h++]=n>>16&255,a[h++]=n>>8&255,a[h++]=255&n;2===s?(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[h++]=255&n):1===s&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[h++]=n>>8&255,a[h++]=255&n);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o="",s=[],a=0,u=r-i;a<u;a+=16383)s.push(h(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+="=");return s.push(o),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function h(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(5),i=r(4),o=r(3);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(h(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){f=!1;break}if(f)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function b(t,e,r,n){return q(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return _(t,e,r,n)}function O(t,e,r,n){return q(J(e),t,r,n)}function E(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],h=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,f=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=f}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return h(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),h=t.slice(e,r),f=0;f<a;++f)if(c[f]!==h[f]){o=c[f],s=h[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=L(t[o]);return i}function P(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function I(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,o){return o||I(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,o){return o||I(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||F(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||F(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);F(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(6))},,,,,,,,,,,function(t,e,r){t.exports=r(1)}]);
//# sourceMappingURL=baqend-vendor.js.map